function codevService(e,t){var a=function(a,n,r){var o="/datamgr/codev/document?clientId={clientId}&apiId={apiId}&appId={appId}",i=o.replace("{clientId}",a).replace("{apiId}",n).replace("{appId}",r);return e({url:i,method:"GET",headers:{Accept:"application/json"}}).then(function(e){return e.data},function(e){return t.reject(e)})},n=function(a,n,r,o){var i="/datamgr/codev/document?clientId={clientId}&apiId={apiId}&appId={appId}&filesize={filesize}",s=i.replace("{clientId}",n).replace("{apiId}",r).replace("{appId}",o).replace("{filesize}",a.size),l=new FormData;return l.append("file",a),e({url:s,method:"POST",headers:{"Content-Type":void 0,Accept:"application/json"},transformRequest:angular.identity,data:l}).then(function(e){return e},function(e){return t.reject(e)})},r=function(a,n,r,o){var i="/datamgr/codev/document?clientId={clientId}&apiId={apiId}&appId={appId}&filename={filename}",s=i.replace("{clientId}",n).replace("{apiId}",r).replace("{filename}",a).replace("{appId}",o);return e({url:s,method:"DELETE",headers:{Accept:"application/json"}}).then(function(e){return e.data},function(e){return t.reject(e.data)})};return{getFile:a,uploadFileToUrl:n,deleteFile:r}}function runtestService(e,t){var a="/data/runtest-demo-app.json",n="/datamgr/portalui",r=function(a){var n="/content/gateway/content-management/search?queryname=multiAPIPlayground";return e.get(n).then(function(e){return e.data},function(e){return t.reject(e.data)})},o=function(){return e.get(a).then(function(e){return e.data},function(e){return t.reject(e.data)})},i=function(a,r){var o;return o=n+"/simulatedusers?cntrtId="+a+"&clientId="+r,e.get(o).then(function(e){return e.data},function(e){return t.reject(e.data)})},s=function(a,n,r,o){return e({url:a,method:o,headers:r,data:n,transformResponse:function(e,t){return e}}).then(function(e){return e.data&&""!=e.data&&(e.data=JSON.parse(e.data)),e},function(e){return e.data&&""!=e.data&&"No data"!=e.data.substring(0,7)&&(e.data=JSON.parse(e.data)),t.reject(e)})},l=function(a,n,r,o,i){var s={};return s.client_id=n,s.client_secret=r,a?(s.code=a,s.grant_type="authorization_code",s.redirect_uri=o):s.grant_type="client_credentials",e({url:i,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var a in e)t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")},data:s}).then(function(e){return e},function(e){return t.reject(e)})};return{postApi:s,getAccessTokenNew:l,getCmsData:r,getTestData:i,getDemoAppDetails:o}}function runtestStateService(e,t){var a={};a.productDetails={},a.productDetails.reloaded=!1,a.elementStateIndex=0,a.countCallApi=0,a.countDirectiveGenerator=0,a.selectedElement=[],a.isApiReqSent=[],a.callApiEnabled=[!0],a.showRequest=[],a.showRequest["bank-0"]=!0,a.showRequest.accessToken=!0,a.showRequest["offers-0"]=!0,a.showRequest["swiftid-0"]=!0,a.showRequest["rewards-0"]=!0,a.api=[],a.responseParse=[],a.callApiExist=!0;var n=function(e,t){a.responseParse[e]=t},r=function(e){a.slug=e},o=function(e){a.api[e.showkey]=e},i=function(e){a.callApiExist=e},s=function(e){a.redirectImportant=e},l=function(e){a.isApiFlowDone=e},c=function(e){a.isTabApiFlowDone=e},u=function(e){a.showRequest[e]=!0},d=function(e,t){a.selectedElement[e]=t},p=function(){a.elementStateIndex++},m=function(e){a.countCallApi=e},g=function(){a.countCallApi++},f=function(){a.countDirectiveGenerator++},h=function(e){a.idbHost=e},v=function(e){a.gwHost=e},S=function(e){a.apiHost=e},y=function(e){a.demoAppEnv=e},b=function(e){a.cmsGlobalData=e},A=function(e){a.playgroundBody=e},w=function(e){a.cmsData=e,a.cmsData&&(a.isStep2Enabled="",a.isStep3Enabled="",a.isTokenReqSent="",a.callApiMessage="",a.isCallApiReqSent="",a.accessToken="",a.callApiNextStep="",a.callApiTab="","2legged"===a.cmsData.headline[0].oauth?(a.currStep="AccessToken",a.isStep2Enabled=!0):(a.currStep="Authorization",a.isStep1Enabled=!0))},C=function(e){a.testData=e},I=function(e){a.clientId=e},T=function(e){a.clientSecret=e},P=function(e){a.redirectUri=e},E=function(e){a.cntrtId=e},D=function(e){a.selectedApp=e},k=function(e){a.connectedApps=e},$=function(e){a.isAuthReqSent=e},R=function(e){a.isTokenReqSent=e},U=function(e){a.isStep2Enabled=e},N=function(e){a.isStep3Enabled=e},_=function(e){a.currStep=e},M=function(e){a.authCode=e},O=function(e){a.isStep1Enabled=e},x=function(e){a.accessToken=e},q=function(e){a.isCallApiReqSent=e},F=function(e){a.callApiMessage=e},L=function(e){a.callApiNextStep=e},B=function(e){a.callApiTab=e},H=function(e){a.selApp=e},V=function(e){a.isEndFlow=e},j=function(e){a.respBody=e},z=function(e){a.selectedTabResp=e},W=function(e){a.authRespText=e},G=function(e){a.authMessage=e},J=function(e){a.authNextStep=e},Z=function(e){a.hasIdbRedirected=e},r=function(e){a.slug!=e&&(oe(),a.slug=e)},K=function(e){a.tokenNextStep=e},X=function(e){a.productDetails=e},Y=function(e){a.tokenMessage=e},Q=function(e){a.applicationId=e},ee=function(e){a.callApiEnabled[e]=!0},te=function(e){a.isApiReqSent[e]=!0},ae=function(e){a.isTokenValid=e},ne=function(e,t){for(var n=0;n<e.length;n++)a.isApiReqSent[e[n]]=!1,a.showRequest[e[n]]=!1;a.showRequest[t]=!0,a.isApiFlowDone="",a.isTabApiFlowDone=""},re=function(){a.callApiEnabled=[!0];var e=[];e[0]=a.isApiReqSent[0],a.isApiReqSent=e,a.isApiFlowDone="",a.isTabApiFlowDone="",a.showRequest=[],a.showRequest["bank-0"]=!0,a.showRequest.accessToken=!0,a.showRequest["offers-0"]=!0,a.showRequest["swiftid-0"]=!0,a.showRequest["rewards-0"]=!0},oe=function(){a.isStep2Enabled="",a.isStep3Enabled="",a.isTokenReqSent="",a.isTokenValid="",a.callApiMessage="",a.isCallApiReqSent="",a.isReqSent="",a.accessToken="",a.callApiNextStep="",a.callApiTab="",a.isAuthReqSent="",a.isAuthCode="",a.authNextStep="",a.authMessage="",a.authCode="",a.callApiEnabled=[!0],a.isApiReqSent=[],a.isApiFlowDone="",a.isTabApiFlowDone="",a.showRequest=[],a.showRequest["bank-0"]=!0,a.showRequest.accessToken=!0,a.showRequest["offers-0"]=!0,a.showRequest["swiftid-0"]=!0,a.showRequest["rewards-0"]=!0,a.countDirectiveGenerator=0,a.cmsData&&("2legged"===a.cmsData.headline[0].oauth?(a.currStep="AccessToken",a.isStep2Enabled=!0,a.countCallApi=1):(a.currStep="Authorization",a.countCallApi=0,a.isStep1Enabled=!0))},ie=function(){return a};return{getState:ie,setApi:o,setCallApiExist:i,setSlug:r,resetApis:ne,setRedirectImportant:s,setIsApiFlowDone:l,setIsTabApiFlowDone:c,resetCallApiTab:re,setCallApiEnabled:ee,setIsApiReqSent:te,setApplicationId:Q,setElementStateIndex:p,countCallApi:g,setCountCallApi:m,countDirectiveGenerator:f,setSelectedElement:d,setTokenMessage:Y,setTokenNextStep:K,setSlug:r,setHasIdbRedirected:Z,setRespBody:j,setSelectedTabResp:z,setAuthRespText:W,setAuthMessage:G,setAuthNextStep:J,setIdbhost:h,setGwhost:v,setApihost:S,setDemoAppEnv:y,setCmsGlobalData:b,setPlaygroundBody:A,setCmsData:w,setTestData:C,setClientId:I,setClientSecret:T,setRedirectUri:P,setCntrtId:E,setSelectedApp:D,setConnectedApps:k,setIsAuthReqSent:$,setIsTokenReqSent:R,setIsStep2Enabled:U,setIsStep3Enabled:N,setCurrStep:_,reset:oe,setAuthCode:M,setIsStep1Enabled:O,setAccessToken:x,setIsCallApiReqSent:q,setCallApiMessage:F,setCallApiNextStep:L,setCallApiTab:B,setSelApp:H,setIsEndFlow:V,setProductDetails:X,setShowRequest:u,pushResponseParse:n,setIsTokenValid:ae}}function testingService(e,t){var a="/datamgr/portalui",n=a+"/callbackURL",r=function(n,r,o,i,s){"Notifications"==o&&(o="NotificationService");var l;return l=o?a+"/usersimulationdata?cntrtId="+n+"&clientId="+r+"&svcNm="+o+"&rqstId="+i+"&appId="+s:a+"/simulatedusers?cntrtId="+n+"&clientId="+r+"&appId="+s,e({url:l,method:"GET",headers:{"Content-Type":"application/json; v=3",Accept:"application/json; v=3"}}).then(function(e){return e.data},function(e){return t.reject(e.data)})},o=function(n,r,o,i,s){"Notifications"==o&&(o="NotificationService");var l;return l=o?a+"/simulationusersdata?apiId="+n+"&clientId="+r+"&svcNm="+o+"&rqstId="+i+"&appId="+s:a+"/simulationusers?apiId="+n+"&clientId="+r+"&appId="+s,e({url:l,method:"GET",headers:{"Content-Type":"application/json; v=3",Accept:"application/json; v=3"}}).then(function(e){function t(e,t){var n={};n.description=e.description,n.taxIdNumber=e.username,a.userDataViewList.push(n)}if(e.data.userDataViewList&&e.data.userDataViewList[0].username){if(e.data.userDataViewList[0].password)return e.data;var a={};return a.userDataViewList=[],e.data.userDataViewList.forEach(t),a}return e.data},function(e){return t.reject(e.data)})},i=function(n,r,o,i,s,l,c){"Notifications"==o&&(o="NotificationService");var u=a+"/notificationaction?cntrtId="+n+"&clientId="+r+"&svcNm="+o+"&elementId="+s+"&action="+i+"&userName="+l+"&appId="+c;return e({url:u,method:"POST",headers:{"Content-Type":"application/json; v=3",Accept:"application/json; v=3"},data:{}}).then(function(e){return e.data},function(e){return t.reject(e.data)})},s=function(n,r,o,i,s,l,c){"Notifications"==o&&(o="NotificationService");var u=a+"/simulationnotificationaction?apiId="+n+"&clientId="+r+"&svcNm="+o+"&elementId="+s+"&action="+i+"&userName="+l+"&appId="+c;return e({url:u,method:"POST",headers:{"Content-Type":"application/json; v=3",Accept:"application/json; v=3"},data:{}}).then(function(e){return e.data},function(e){return t.reject(e.data)})},l=function(n,r,o,i){var s=a+"/retryConnect";return s=s+"?akanaCntrtId="+n+"&akanaApiVersId="+r+"&akanaAppnVers="+o+"&appId="+i,e.get(s).then(function(e){return e},function(e){return t.reject(e.data)})},c=function(t,a,r,o,i){return e({url:n,method:"POST",headers:{"Content-Type":"application/json; v=3",Accept:"application/json; v=3"},data:{action:t,taskReferenceId:r,callbackURL:o,clientId:a,appId:i}}).then(function(e){return e},function(e){return e})},u=function(n,r,o,i,s){return pageURL=a+"/dashboard?clientId="+n+"&akanaCntrtId="+r+"&userName="+o+"&password="+i+"&appId="+s,"json"==n&&(pageURL="/data/dashboard-sample.json"),e.get(pageURL).then(function(e){return e.data},function(e){return t.reject(e.data)})},d=function(n,r,o,i,s){return pageURL=a+"/simulationdashboard?clientId="+n+"&apiId="+r+"&userName="+o+"&password="+i+"&appId="+s,"json"==n&&(pageURL="/data/dashboard-sample.json"),e.get(pageURL).then(function(e){return e.data},function(e){return t.reject(e.data)})};return{getPageContent:r,getTestData:o,getSimulationDashboard:d,simulationNotificationAction:s,saveNotificationAction:i,loadProductTestData:l,postWebhookCallbackURL:c,getDashboard:u}}!function(){"use strict";angular.module("app",["duScroll","angular-clipboard","angularFileUpload","angularMoment","naif.base64","oneui-modals","oneui-tooltips","dx-notification-banner","ngCookies","ngSanitize","ngPageTitle","angularCharts","hljs","ngAria","ngIdle","ngPatternRestrict","portal-core","portal-apps","portal-about","portal-account","portal-header","portal-footer","portal-home","portal-community","portal-platform-documentation","portal-product-inventory","portal-product-testing","portal-signin-signup","portal-support","portal-product-documentation","portal-product-homepage","portal-product-runtest","portal-product-codev","angularUtils.directives.dirPagination","portal-platform-template","portal-product-tutorials","portal-error","framed-content"]).config(["$locationProvider","$urlRouterProvider","$httpProvider","$urlMatcherFactoryProvider","hljsServiceProvider","IdleProvider","KeepaliveProvider",function(e,t,a,n,r,o,i){function s(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<40;a++)e+=t.charAt(Math.floor(Math.random()*t.length));return e+Date.now()}e.html5Mode(!0),r.setOptions({tabReplace:"    "}),o.idle(1680),o.timeout(120),i.interval(2),a.defaults.headers.common["Cache-Control"]="max-age=300",a.defaults.useXDomain=!0,a.defaults.headers.common="Content-Type: application/json",delete a.defaults.headers.common["X-Requested-With"];var l=["$cookies",function(e){return{request:function(t){for(var a=e.get("Authorization"),n=["/users/","/engine/","/gateway/","/content/","/datamgr/","/third-party/"],r=0;r<n.length;r++)if(a&&t.url.indexOf(n[r])!==-1){t.headers.Authorization="Bearer "+a;break}return a&&(t.url.startsWith("/engine/")||t.url.indexOf("codev")>0||t.url.startsWith("/datamgr/"))&&(t.headers.Authorization="Bearer "+a),t}}}],c=["$rootScope","$q","$location","$injector","$cookies",function(e,t,a,n,r){return{responseError:function(r){if(401==r.status&&a.$$url.indexOf("playground")<=0){var o=n.get("CoreEventsService");e.$broadcast(o.userSignOut.name),n.get("$state").go("sign-in")}return t.reject(r)}}}],u=["$rootScope","$q","$location","$injector",function(e,t,a,n){return{responseError:function(e){return 403==e.status&&a.$$url.indexOf("playground")<=0&&n.get("$state").go("error",{type:"forbidden"}),t.reject(e)}}}],d=["$q",function(e){return{request:function(e){return e.url.indexOf(".html")!==-1||0!==e.url.indexOf("runtest")&&0!==e.url.indexOf("playground")||(e.params=e.params||{},e.params.correlationId=s()),e}}}];a.interceptors.push(l,c,u,d),t.otherwise(function(e){e.get("$state").go("error",{type:"not-found"})}),t.rule(function(e,t){var a=t.url();if(!("/"===a[a.length-1]||a.indexOf("/?")>-1||a.indexOf("/#")>-1))return a.indexOf("?")>-1?a.replace("?","/?"):a.indexOf("#")>-1?a.replace("#","/#"):a+"/"})}]).run(["$rootScope","$location","$cookies","$anchorScroll","UserService","CoreEventsService",function(e,t,a,n,r,o){r.getUser();var i;e.$on("$stateChangeStart",function(e,a,n,r,o){i=t.search()}),e.$on("$stateChangeSuccess",function(a,r,o,s,l){var c=s.url;for(var u in l)l.hasOwnProperty(u)&&(c=c.replace(":"+u,l[u]),c=c.replace("{"+u+"}",l[u]),c=c.replace(u,l[u]));s.url=c,e.$previousState=s,document.body.scrollTop=document.documentElement.scrollTop=0,t.hash()&&n(),document.activeElement.blur(),r==s&&t.search(i)}),e.$on(o.userSignOut.name,function(){a.remove("JSESSIONID"),a.remove("Authorization")}),e.$on("duScrollspy:becameActive",function(e,t,a){t.addClass("animate")});for(var s=document.body.getElementsByTagName("iframe"),l=0;l<s.length;l++)s[l].setAttribute("tabindex","-1"),s[l].setAttribute("aria-hidden","true")}])}(),function(){"use strict";angular.module("portal-about",["portal-core"])}(),function(){"use strict";angular.module("access-product",["portal-core"])}(),function(){"use strict";angular.module("portal-account",["portal-core"])}(),function(){"use strict";angular.module("portal-apps",["portal-core"])}(),function(){"use strict";angular.module("portal-community",["portal-core"])}(),function(){"use strict";angular.module("portal-core",["ui.router"])}(),function(){"use strict";angular.module("portal-error",["portal-core"])}(),function(){"use strict";angular.module("portal-footer",["portal-core"])}(),function(){"use strict";angular.module("framed-content",["portal-core"])}(),function(){"use strict";angular.module("portal-header",["portal-core"])}(),function(){"use strict";angular.module("portal-home",["portal-core"])}(),function(){"use strict";angular.module("portal-platform-documentation",["portal-core"])}(),function(){"use strict";angular.module("portal-platform-template",["portal-core","portal-product-documentation"])}(),function(){"use strict";angular.module("portal-product-codev",["portal-core","angularMoment"])}(),function(){"use strict";angular.module("portal-product-documentation",["portal-core","access-product"])}(),function(){"use strict";angular.module("portal-product-homepage",["portal-core","support-callout"])}(),function(){"use strict";angular.module("portal-product-inventory",["portal-core","support-callout"])}(),function(){"use strict";angular.module("portal-product-runtest",["portal-core","support-callout","portal-product-testing","access-product","portal-apps"])}(),function(){"use strict";angular.module("portal-product-testing",["portal-core"])}(),function(){"use strict";angular.module("portal-product-tutorials",["portal-core","portal-product-documentation"])}(),function(){"use strict";angular.module("portal-signin-signup",["portal-core"])}(),function(){"use strict";angular.module("portal-support",["portal-core"])}(),function(){"use strict";angular.module("support-callout",["portal-core"])}(),angular.module("portal-home").service("AboutService",["$http",function(e){var t="/content/gateway/content-management/search?queryname=about",a=null,n=function(){return a||(a=e.get(t).then(function(e){return e.data})["catch"](function(e){return a=null,e})),a};return{getAboutContent:n}}]),angular.module("portal-account").factory("AccountService",["$http","$q",function(e,t){}]),angular.module("portal-community").service("CommunityService",["$http","NestedNodeBodyService",function(e,t){function a(e){if(!e)return null;for(var t=0;t<e.length;t++)if("summary"==e[t].type)return e[t]}var n="/content/gateway/content-management/search?queryname=multiBlogDetails&sortBy=md:ent_contentset&sortOrder=DESCENDING",r="/content/gateway/content-management/search?queryname=multiBlogDetails&offSet={offSet}&resultCount={resultCount}&sortBy=md:ent_contentset&sortOrder=DESCENDING",o="/content/gateway/content-management/search?queryname=",i="/content/gateway/content-management/search?queryname=",s="/content/gateway/content-management/search?queryname=",l="/content/gateway/content-management/search?queryname=multiEventDetails&sortBy=md:ent_contentset&sortOrder=ASCENDING",c="/content/gateway/content-management/search?queryname=multiEventDetails&offSet={offSet}&resultCount={resultCount}&sortBy=md:ent_contentset&sortOrder=ASCENDING",u="/content/gateway/content-management/search?queryname=featuredBlogDetails&sortBy=md:ent_contentset&sortOrder=DESCENDING",d="/content/gateway/content-management/search?queryname=featuredEventDetails&sortBy=md:ent_contentset&sortOrder=ASCENDING",p="/content/gateway/content-management/search?queryname=community",m="/content/gateway/content-management/search?queryname=community_openSource",g=null,f=null,h=null,v=null,S=null,y=null,b=null,A=function(){return g||(g=e.get(u).then(function(e){var n=[];for(var r in e.data.article)e.data.article.hasOwnProperty(r)&&e.data.article[r]["default"]&&(e.data.article[r]["default"][0].summary=t.createBodyFromNodes(e.data.article[r]["default"][0].summary),e.data.article[r]["default"][0].body=t.createBodyFromNodes(e.data.article[r]["default"][0].body),e.data.article[r]["default"][0].summaryImage=a(e.data.article[r]["default"][0].media),n.push(e.data.article[r]));return n})["catch"](function(e){return g=null,e})),g},w=function(){return f||(f=e.get(d).then(function(e){var t=[];for(var a in e.data.article)e.data.article.hasOwnProperty(a)&&t.push(e.data.article[a]);return t})["catch"](function(e){return f=null,e})),f},C=function(){return S||(S=e.get(l).then(function(e){var t=[];for(var a in e.data.article)e.data.article.hasOwnProperty(a)&&t.push(e.data.article[a]);return t})["catch"](function(e){return S=null,e})),S},I=function(a,n){var r=c.replace("{offSet}",n).replace("{resultCount}",a),o=e.get(r).then(function(e){var a=[];for(var n in e.data.article)e.data.article.hasOwnProperty(n)&&(e.data.article[n]["default"][0].summary=t.createBodyFromNodes(e.data.article[n]["default"][0].summary),e.data.article[n]["default"][0].body=t.createBodyFromNodes(e.data.article[n]["default"][0].body),a.push(e.data.article[n]));return{events:a,totalAvailable:e.data.parentMetadata.articleCountTotal}})["catch"](function(e){return e});return o},T=function(t){var a=e.get(s+t).then(function(e){return e.data})["catch"](function(e){return a=null,e});return a},P=function(t){var a=e.get(i+t).then(function(e){return e.data})["catch"](function(e){return a=null,e});return a},E=function(){return v||(v=e.get(n).then(function(e){var n=[];for(var r in e.data.article)e.data.article.hasOwnProperty(r)&&e.data.article[r]["default"]&&(e.data.article[r]["default"][0].summary=t.createBodyFromNodes(e.data.article[r]["default"][0].summary),e.data.article[r]["default"][0].body=t.createBodyFromNodes(e.data.article[r]["default"][0].body),e.data.article[r]["default"][0].summaryImage=a(e.data.article[r]["default"][0].media),n.push(e.data.article[r]));return n})["catch"](function(e){return v=null,e})),v},D=function(e,t,a){function n(){var o=k(e,t,a).then(function(o){return o.posts.length<r&&t+e<=o.totalAvailable?(e+=1,n(e,t,a)):o})["catch"](function(e){return e});return o}var r=e;return a||(a=[]),n()},k=function(n,o,i){var s=r.replace("{offSet}",o).replace("{resultCount}",n),l=e.get(s).then(function(e){var n=[],r=0;for(var o in e.data.article)if(e.data.article.hasOwnProperty(o)){for(var s=!1,l=0;l<i.length;l++)i[l]==e.data.article[o].metadata["md:ent_relativepath"]&&(s=!0,r++);s||e.data.article[o]["default"]&&(e.data.article[o]["default"][0].summary=t.createBodyFromNodes(e.data.article[o]["default"][0].summary),e.data.article[o]["default"][0].body=t.createBodyFromNodes(e.data.article[o]["default"][0].body),e.data.article[o]["default"][0].summaryImage=a(e.data.article[o]["default"][0].media),n.push(e.data.article[o]))}return{posts:n,totalAvailable:e.data.parentMetadata.articleCountTotal,totalExcluded:r}})["catch"](function(e){return e});return l},$=function(){if(!y){var t=r.replace("{offSet}",1).replace("{resultCount}",0);y=e.get(t).then(function(e){return e.data.parentMetadata.articleCountTotal})}return y},R=function(t){var a=e.get(o+t).then(function(e){return e.data})["catch"](function(e){return a=null,e});return a},U=function(){return h||(h=e.get(p).then(function(e){return e.data})["catch"](function(e){return h=null,e})),h},N=function(){return b||(b=e.get(m).then(function(e){for(var t=e.data.article["open-source_home"].project,a=[],n=0;n<t.length;n++){var r=t[n];a[r.headline]||(a[r.headline]=[]),a[r.headline].push(r)}e.data.article["open-source_home"].projectGroups=[];for(var o in a)a.hasOwnProperty(o)&&e.data.article["open-source_home"].projectGroups.push(a[o]);return e.data})["catch"](function(e){return b=null,e})),b};return{getAllEvents:C,getEventsSubset:I,getAllBlog:E,getBlogsSubset:D,getCategoryBlog:R,getOpenSource:N,getTotalBlogPostCount:$,getIndividualEvents:T,getIndividualBlogs:P,getFeaturedBlog:A,getFeaturedEvent:w,getCommunityDetails:U}}]),angular.module("portal-home").service("HomeService",["$http",function(e){var t="/content/gateway/content-management/search?queryname=homePage",a="https://s3.amazonaws.com/chariot-blob-store-runtime-prod/Hierarchy/DevPortal/fallback/homePage.json",n=null,r=function(){return n||(n=e.get(t).then(function(e){return e.data})["catch"](function(t){return n=e.get(a).then(function(e){return e.data})["catch"](function(e){return n=null,e})})),n};return{getHomeContent:r}}]),angular.module("portal-platform-documentation").service("PlatformDocumentationService",["$http","$filter",function(e,t){var a="/content/gateway/content-management/search?queryname=siteDocumentation",n=null,r=[],o=function(){return n||(n=e.get(a).then(function(e){var a=[];for(var n in e.data.article)e.data.article.hasOwnProperty(n)&&(e.data.article[n]["default"][0].headline=t("scrub_html")(e.data.article[n]["default"][0].headline),a.push(e.data.article[n]));return a.sort(function(e,t){return e.metadata["md:ent_sequence"]-t.metadata["md:ent_sequence"]}),a})),n},i=function(t){return r[t]||(r[t]=e.get(t).then(function(e){return e.data})["catch"](function(){return r[t]=null,null})),r[t]};return{getPlatformDocumentationList:o,getDocumentationFile:i}}]),angular.module("portal-platform-template").service("PlatformTemplateService",["$http",function(e){var t="/content/gateway/content-management/search?queryname={query}",a=[],n=function(n){if(!a[n]){var r=t.replace("{query}",n);a[n]=e.get(r).then(function(e){var t=null;for(var a in e.data.article)e.data.article.hasOwnProperty(a)&&(t=e.data.article[a]["default"]);return t})}return a[n]};return{getSingleColumnContent:n}}]),angular.module("portal-platform-template").service("SingleQueryService",function(){return{"terms-and-conditions":"termsDetails","privacy-policy":"privacyPolicyDetails","code-of-conduct":"community_openSourceConduct"}}),angular.module("portal-product-codev").service("ProductCodevService",codevService),codevService.$inject=["$http","$q"],angular.module("portal-product-inventory").service("ProductInventoryService",["$http",function(e){var t="/content/gateway/content-management/search?queryname=APIIndex",a=null,n=function(){return a||(a=e.get(t).then(function(e){return e.data})["catch"](function(e){return a=null,e})),a};return{getProductInventoryContent:n}}]),angular.module("portal-product-runtest").service("ProductRuntestService",runtestService),runtestService.$inject=["$http","$q"],angular.module("portal-product-runtest").service("ProductRuntestStateService",runtestStateService),runtestStateService.$inject=["$http","$q"],angular.module("portal-product-testing").service("ProductTestingService",testingService),testingService.$inject=["$http","$q"],angular.module("portal-signin-signup").service("SignUpService",["$http",function(e){var t="/users/account",a="/users/account/complete-signup",n="/users/account/validate",r="/data/closed-beta-flag.json",o=function(a){var n=e.post(t,a).then(function(e){return e.data})["catch"](function(e){return e.data});return n},i=function(t){var n=e.post(a,t).then(function(e){return e.data})["catch"](function(e){return e.data});return n},s=function(t){var a=e.post(n,t).then(function(e){return e.data})["catch"](function(e){return e.data});return a},l=function(){var t=e.get(r).then(function(e){return e.data})["catch"](function(e){return t=null,e});return t};return{submitSignUp:o,submitSignUpWithToken:i,verifySignUpToken:s,closedBetaFlag:l}}]),angular.module("portal-support").service("SupportService",["$http",function(e){var t="/content/gateway/content-management/search?queryname=APISupport",a=null,n=function(){return a||(a=e.get(t).then(function(e){return e.data})["catch"](function(e){return a=null,e})),a};return{getSupportContent:n}}]),angular.module("support-callout").service("SupportCalloutService",["$http",function(e){var t="/content/gateway/content-management/search?queryname=questionsContent",a=null,n=function(){return a||(a=e.get(t).then(function(e){return e.data})["catch"](function(e){return a=null,e})),a};return{getSupportCallout:n}}]),angular.module("portal-core").factory("AppsService",["$rootScope","$http","$q","StatusCodesService","CoreEventsService",function(e,t,a,n,r){function o(e,n,r,o,i){var s=a.defer(),l=i?"partner":"standard";return t({url:O.replace("{email}",e).replace("{appType}",l),method:"POST",data:{name:n,description:r||W,image:o}}).then(function(e){s.resolve(e.data)},function(e){s.reject(e)}),s.promise}function s(e){var n=a.defer();return t({url:D+"?apiId="+e,method:"GET"}).then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise}function l(e){var n=a.defer(),r=E;return e&&(r+="?dropDown=true"),t({url:r,method:"GET"}).then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise}function c(e){var n=a.defer();return t({url:$.replace("{appId}",e),method:"GET"}).then(function(e){n.resolve(e.data)},function(e){n.reject(e)}),n.promise}function u(e){var n=a.defer();if(P[e]){var r=P[e];c(e).then(function(t){r.prodAccess=t.prodAccess,r.auth=t.auth,n.resolve(P[e])})["catch"](function(){n.resolve(P[e])})}else t({url:k.replace("{appId}",e),method:"GET",timeout:3e4}).then(function(t){var a=t.data;for(a.versions={},a.description===W&&(a.description=""),c(e).then(function(t){a.prodAccess=t.prodAccess,a.auth=t.auth,n.resolve(P[e])})["catch"](function(){n.resolve(P[e])}),i=0;i<a.allApplicationVersion.length;i++){var r=a.allApplicationVersion[i],o=r.environment.toUpperCase();r.name=o,a.versions[o]=r}P[e]=a,n.resolve(a)},function(e){n.reject(e)});return n.promise}function d(){P={}}function p(e){var n=a.defer();return t({url:U.replace("{appId}",e.appId),method:"GET"}).then(function(t){e.image=t.data.image,n.resolve(t.data)},function(e){n.reject(e)}),n.promise}function m(e,n,r,o,i){var s=a.defer(),l=JSON.parse(JSON.stringify(G));return l.name=r,l.description=o||W,l.image=i,l.applicationVersion.push(J),t({url:M.replace("{appId}",e.appId),method:"PUT",data:l}).then(function(t){e.name=r,e.description=o,i&&(e.image=i),s.resolve(t.data)},function(e){s.reject(e)}),s.promise}function g(e,n,r,o){var i=a.defer(),s=JSON.parse(JSON.stringify(G)),l=JSON.parse(JSON.stringify(J));return r&&(l.redirectUri=r),o&&(l.privacyPolicy=o),l.environment=n.environment,s.applicationVersion.push(l),t({url:M.replace("{appId}",e.appId),method:"PUT",data:s}).then(function(e){r&&(n.redirectUri=r),o&&(n.privacyPolicy=o),i.resolve(e.data)},function(e){i.reject(e)}),i.promise}function f(e){var a=x.replace("{appId}",e);return t({url:a,method:"GET"}).then(function(e){return e})}function h(){var e=a.defer();return t({url:H,method:"GET"}).then(function(t){e.resolve(t.data)},function(t){e.reject(t)}),e.promise}function v(e,n){var r=a.defer();return t({url:R.replace("{appId}",e.appId).replace("{env}",n.environment),method:"GET"}).then(function(e){n.connectedProducts=e.data,r.resolve(e.data)},function(e){r.reject(e)}),r.promise}function S(e,n){var r=a.defer();return t({url:L.replace("{appId}",e)+"?apiVersionId="+n.versionId,method:"GET",data:n}).then(function(e){e.data.requestData=n,r.resolve(e)},function(e){e.data.requestData=n,r.reject(e)}),r.promise}function y(e,n){var r=a.defer();return t({url:L.replace("{appId}",e.appId),method:"POST",data:n}).then(function(e){e.data.requestData=n,r.resolve(e.data)},function(e){e.data.requestData=n,r.reject(e,n)}),r.promise}function b(e,n){var r=a.defer();return t({url:_.replace("{email}",n).replace("{appId}",e.appId),method:"DELETE"}).then(function(e){r.resolve(e.data)},function(e){r.reject(e)}),r.promise}function A(e,n,r){var o=a.defer();return t({url:q,method:"POST",data:{email:n,appId:e.appId,role:r}}).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}function w(e,n,r){var o=a.defer();return t({url:q,method:"PUT",data:{email:n,appId:e.appId,role:r}}).then(function(e){o.resolve(e)},function(e){o.reject(e)}),o.promise}function C(e,n){var r=a.defer();return t({url:F,method:"DELETE",data:{email:n,appId:e.appId}}).then(function(e){r.resolve(e)},function(e){r.reject(e)}),r.promise}function I(e,n,r){var o=a.defer();return t({url:N,method:"POST",data:{appId:e,apiId:n,environment:r}}).then(function(e){o.resolve(e.data)},function(e){o.reject(e)}),o.promise}function T(e,a,n,r,o){var i=B.replace("{clientId}",e);i=i.replace("{environment}",a),i=i.replace("{apiName}",n),i=i.replace("{duration}",r),i=i.replace("{interval}",o),i=i.replace("{timezone}","America/New_York");var s=t.get(i).then(function(e){return e})["catch"](function(e){return e});return s}var P={},E="/gateway/gateway/apps/all",D="/gateway/gateway/contracts/find-by-product",k="/gateway/gateway/apps?appId={appId}",$="/gateway/gateway/apps/status?appId={appId}",R="/gateway/gateway/contracts/find-by-app?appId={appId}&env={env}",U="/gateway/gateway/images?appId={appId}",N="/gateway/gateway/contracts",_="/gateway/gateway/apps?appId={appId}",M="/gateway/gateway/apps?appId={appId}",O="/gateway/gateway/apps?owner={email}&context=external&appType={appType}",x="/gateway/app/team-member/{appId}",q="/gateway/app/team-member/",F="/gateway/app/team-member/",L="/gateway/gateway/prod-access?appId={appId}",B="/third-party/gateway/analytics?clientId={clientId}&target-env={environment}&apiName={apiName}&duration={duration}&timeInterval={interval}&timezone={timezone}",H="/gateway/gateway/contracts/find-by-owner",V={PROD:"Production",SANDBOX:"Sandbox"},j={STANDARD:"STANDARD",PARTNER:"PARTNER"},z={NOT_REQUESTED:"NOT_REQUESTED",REQUESTED:"REQUESTED",APPROVED:"APPROVED"},W="No description provided",G={name:"",description:"",status:"",prodAccess:"",image:"",applicationVersion:[]},J={privacyPolicy:"",redirectUri:"",environment:""};return e.$on(r.userSignOut.name,function(){P={}}),{getApps:l,findAppsByProduct:s,getAppDetails:u,getAppTeamMembers:f,editApp:m,editAppVersion:g,getAppIcon:p,deleteApp:b,connectProduct:I,registerApp:o,addTeamMember:A,updateTeamMember:w,removeTeamMember:C,getConnectedProducts:v,getAvailablePartnerProducts:h,requestProductionAccess:y,checkProductionAccess:S,
	getAppMetrics:T,clearCachedApps:d,TYPES:j,VERSIONS:V,PROD_ACCESS_STATUS:z}}]),angular.module("portal-core").service("Base64UtilityService",[function(){function e(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))}function t(e){return decodeURIComponent(Array.prototype.map.call(atob(e),function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}return{encode64:e,decode64:t}}]),angular.module("portal-core").factory("CoreEventsService",function(){return{sessionExpired:{name:"session-expired",message:"Your session has expired."},userSignOut:{name:"user-sign-out",message:"You have been signed out successfully."},userSignIn:{name:"user-sign-in",message:"Your have been signed in successfully"},productInventoryRefresh:{name:"prodInvRefresh",message:"Products state changed"}}}),angular.module("portal-core").service("LanguageTypesService",function(){return{acceptableLanguages:["json","curl","node","shell","java","ruby","python","php","perl"]}}),angular.module("portal-core").service("NestedNodeBodyService",[function(){function e(e){for(var r=0;r<e.length;r++){var o="";if(e[r].type==t){o='<div class="img-container">';var i=e[r].link&&e[r].link.path;return i&&(o+='<a href="'+e[r].link.path+'">'),o+='<img src="'+e[r].path+'" alt="'+e[r].altText+'" style="max-width:'+e[r].width+"px; max-height:"+e[r].height+'px;" />',i&&(o+="</a>"),o+="</div>"}if(e[r].type==a)return o='<div class="video-container">',o+='<iframe src="'+e[r].path+'" frameborder="0" allowfullscreen></iframe>',o+="</div>";if(e[r].type==n)return'<div hljs hljs-language="'+e[r].language+'">'+e[r].codeSnippet+"</div>"}}var t="image",a="video",n="codeSnippet",r=function(t){var a="";if("string"==typeof t)a+=t;else for(var n=0;n<t.length;n++)for(var r in t[n])t[n].hasOwnProperty(r)&&("content"==r?a+=t[n][r]:"asset"==r&&(a+=e(t[n][r])));return a};return{createBodyFromNodes:r}}]),angular.module("portal-core").service("PageTitleService",[function(){var e="Loading",t=function(){return e},a=function(t){e=t};return{getPageTitle:t,setPageTitle:a}}]),angular.module("portal-core").service("PermissionsService",["AppsService",function(){function e(e){var t;switch(e){case a.CODEVADMIN:t=[a.OWNER,a.CODEVSUPPORT];break;case a.OWNER:t=[a.DEV,a.ADMIN,a.OWNER];break;case a.ADMIN:t=[a.DEV];break;default:t=[]}return t}function t(t,a,o){var i=r[t].includes(a);if(i)switch(a){case n.EDIT_TEAM_MEMBER:i=e(t).includes(o);break;default:i=i}return i}var a={OWNER:"OWNER",ADMIN:"ADMIN",DEV:"DEVELOPER",CODEVSUPPORT:"CODEVSUPPORT",CODEVADMIN:"CODEVADMIN"},n={DELETE_APP:"DELETE_APP",EDIT_APP:"EDIT_APP",REQUEST_PRODUCTION_ACCESS:"REQUEST_PRODUCTION_ACCESS",ADD_TEAM_MEMBER:"ADD_TEAM_MEMBER",EDIT_TEAM_MEMBER:"EDIT_TEAM_MEMBER",EDIT_AUTHORIZATION_FIELDS:"EDIT_AUTHORIZATION_FIELDS",PRODUCTION:{VIEW:"VIEW_PRODUCTION",VIEW_CREDENTIALS:"VIEW_PRODUCTION_CREDENTIALS",CREATE_CONTRACT:"CREATE_PRODUCTION_CONTRACT"},SANDBOX:{VIEW:"VIEW_SANDBOX",VIEW_CREDENTIALS:"VIEW_SANDBOX_CREDENTIALS",CREATE_CONTRACT:"CREATE_SANDBOX_CONTRACT"},IT:{VIEW:"VIEW_IT",VIEW_CREDENTIALS:"VIEW_IT_CREDENTIALS",CREATE_CONTRACT:"CREATE_IT_CONTRACT"}},r={};return r[a.OWNER]=[n.DELETE_APP,n.EDIT_APP,n.REQUEST_PRODUCTION_ACCESS,n.ADD_TEAM_MEMBER,n.EDIT_TEAM_MEMBER,n.EDIT_AUTHORIZATION_FIELDS,n.IT.VIEW,n.IT.VIEW_CREDENTIALS,n.SANDBOX.VIEW,n.SANDBOX.VIEW_CREDENTIALS,n.SANDBOX.CREATE_CONTRACT,n.PRODUCTION.VIEW,n.PRODUCTION.VIEW_CREDENTIALS],r[a.ADMIN]=[n.ADD_TEAM_MEMBER,n.EDIT_TEAM_MEMBER,n.IT.VIEW,n.IT.VIEW_CREDENTIALS,n.SANDBOX.VIEW,n.SANDBOX.VIEW_CREDENTIALS,n.SANDBOX.CREATE_CONTRACT,n.PRODUCTION.VIEW],r[a.DEV]=[n.IT.VIEW,n.IT.VIEW_CREDENTIALS,n.SANDBOX.VIEW,n.SANDBOX.VIEW_CREDENTIALS,n.PRODUCTION.VIEW],r[a.CODEVADMIN]=[n.DELETE_APP,n.EDIT_APP,n.ADD_TEAM_MEMBER,n.EDIT_TEAM_MEMBER,n.EDIT_AUTHORIZATION_FIELDS,n.IT.VIEW,n.IT.VIEW_CREDENTIALS,n.IT.CREATE_CONTRACT,n.SANDBOX.VIEW,n.SANDBOX.VIEW_CREDENTIALS,n.SANDBOX.CREATE_CONTRACT],r[a.CODEVSUPPORT]=[n.IT.VIEW,n.IT.VIEW_CREDENTIALS,n.SANDBOX.VIEW],{checkPermission:t,getSubbordinateRoles:e,ROLES:a,ACTIONS:n}}]),angular.module("portal-core").factory("ProductsService",["$rootScope","$http","$q","$timeout","$filter","$compile","StatusCodesService","UserService","CoreEventsService",function(e,t,a,n,r,o,i,s,l){var c="/content/gateway/content-management/search/private?queryname=multiAPIDetails&sortBy=md:ent_sequence",u="/content/gateway/content-management/search?queryname=multiAPIDetails&sortBy=md:ent_sequence",d="/gateway/private/getproducts",p="/content/gateway/content-management/search?queryname=featuredAPIDetails&sortBy=md:ent_sequence",m="https://s3.amazonaws.com/chariot-blob-store-runtime-prod/Hierarchy/DevPortal/fallback/featuredAPIDetails.json",g=null,f=[],h=null,v=null,S="private",y="private-accessible|public",b=1,A=2,w=A,C=function(){return s.getUser(!0).then(function(e){return h=w==A?null:h,w=b,P(c)},function(e){return h=w==b?null:h,w=A,P(u)})},I=function(e){return s.getUser(!0).then(function(t){return v=w==A||e?null:v,w=b,k(c)},function(e){return v=w==b?null:v,w=A,k(u)})};e.$on(l.productInventoryRefresh.name,function(e,t){I(!0)});var T=function(e,t,a){var n=e[t].metadata["md:ent_audience"];if(!n||a.exec(n)){var o=e[t]["default"][0].headline;return o=r("scrub_html")(o),o=r("scrub_html_character_codes")(o),e[t]["default"][0].headline=o,e[t].beta="beta"==e[t].metadata["md:ent_bundlekey"],e[t]}},P=function(e){return h||(h=a.defer(),t.get(e).then(function(e){var t=RegExp("^("+y+")$"),a=e.data.article,n=Object.keys(a).map(function(e){return T(a,e,t)}).filter(function(e){return e});h.resolve(n)})["catch"](function(e){h.reject(e)})),h.promise},E=function(){h||C();var e,t=a.defer();return s.getUser(!0).then(function(e){return D(e)}).then(function(t){return e=t,h.promise}).then(function(a){var n=[];if(e)var n=e.split(/,\s*/);var r=a.filter(function(e){return n.includes(e.metadata["md:ent_contentkey"])||"public"==e.metadata["md:ent_audience"]});t.resolve(r)})["catch"](function(e){t.reject(e)}),t.promise},D=function(e){var n=a.defer();return t({url:d,method:"GET",headers:{Accept:"application/json"},transformResponse:function(e,t){return e}}).then(function(e){n.resolve(e.data)})["catch"](function(e){n.resolve("")}),n.promise},k=function(e){return v||(v=a.defer(),h=a.defer(),t.get(e).then(function(e){var t=RegExp("^("+y+")$"),a=e.data.article,n=Object.keys(a).map(function(e){return T(a,e,t)}).filter(function(e){return e});h.resolve(n),t=RegExp("^("+S+")$");var r=Object.keys(a).map(function(e){return T(a,e,t)}).filter(function(e){return e});v.resolve({prods:n,altprods:r})})["catch"](function(e){v.reject(e)})),v.promise},$=function(){return g||(g=t.get(p).then(function(e){var t=[];for(var a in e.data.article)e.data.article.hasOwnProperty(a)&&t.push(e.data.article[a]);return t})["catch"](function(){return g=t.get(m).then(function(e){var t=[];for(var a in e.data.article)e.data.article.hasOwnProperty(a)&&t.push(e.data.article[a]);return t})["catch"](function(){return g=null,null})})),g},R=function(e){return f[e]||(f[e]=t.get(e).then(function(e){return e.data})["catch"](function(){return f[e]=null,null})),f[e]};return{getProducts:C,getProductsInventory:I,getFeaturedProducts:$,getDocumentationFile:R,getConnectableProds:E}}]),angular.module("portal-core").service("RestrictedStatesService",function(){return{external:["apps-list"]}}),angular.module("portal-core").service("RouteUtilityService",[function(){function e(e){return e?e.toString().toLowerCase().replace(/\s+/g,"-").replace(/(&)+(?:\S)+(;)/,"").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""):""}return{slugify:e}}]),angular.module("portal-core").service("SiteCatalystService",["$window",function(e){function t(t,a){try{e.publisherFW.publishEvent(t,a)}catch(n){}}var a=function(e,a,n){e=e||"",a=a||"",n=n||"",t("trackAnalytics",{taxonomy:{level1:"digital",level2:"external portal",level3:e,level4:a,level5:n,country:"us",language:"english",system:"api_digital_ext"}})},n=function(e,a){e.trim()&&t("trackAnalytics",{name:e+":button",enrollment:{start:a}})},r=function(e){e.trim()&&t("trackAnalytics",{name:e+":button"})},o=function(e){e.trim()&&t("trackAnalytics",{name:e+":link"})},i=function(e){e.trim()&&t("trackAnalytics",{name:e+":modal"})},s=function(e){e.trim()&&t("trackAnalytics",{name:"dropdown",accountAction:e})},l=function(e){e.trim()&&t("trackAnalytics",{login:e,name:"portal sign in:button"})},c=function(e){t("trackAnalytics",{taxonomy:{level1:"digital",level2:"external portal",level3:"sign up",level4:"success",level5:"",country:"us",language:"english",system:"api_digital_ext"},enrollment:{complete:e}})};return{trackPage:a,trackCreateAccountButton:n,trackButton:r,trackLink:o,trackModal:i,trackAPIProductDropDown:s,trackOnLoadSignUpSuccessPage:c,trackLoginButton:l}}]),angular.module("portal-core").service("SpecialStatesService",function(){return{alwaysAllow:["sign-up","sign-up-verify","error","password-change"]}}),angular.module("portal-core").service("StatusCodesService",function(){return{success:"success",error:"error",failed:"failed",fail:"fail",unauthenticated:"unauthenticated",errorResponse:"errorResponse"}}),angular.module("portal-core").service("UptimeService",["$http",function(e){var t="/uptime/api/tags/{tag}/stats/day",a="/uptime/api/tags/{tag}/stats/{period}",n=function(a){var n=t.replace("{tag}",a),r=e({method:"GET",url:n}).then(function(e){return e})["catch"](function(e){return e});return r},r=function(t,n){var r=a.replace("{tag}",t);r=r.replace("{period}",n);var o=e({method:"GET",url:r}).then(function(e){return e})["catch"](function(e){return e});return o};return{getHealth:n,getUptime:r}}]),angular.module("portal-core").provider("UserService",function(){return{$get:["$rootScope","$http","$q","$state","$timeout","$cookies","CoreEventsService","StatusCodesService","Base64UtilityService",function(e,t,a,n,r,o,i,s,l){function c(e){return h?a.when():(r(function(){n.go(e)}),a.reject())}function u(e){var t=[];for(var a in e)t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}function d(e){var t=(new Date).getTime(),e=o.get("expires"),a=e-t;y=r(T,a)}function p(){r.cancel(y)}var m="/users/token",g="/users/logout",f="/users/account",h=null,v="/users/account/forgot-password",S="/users/account/update-password",y=null,b=function(a,n,r){return h&&!r||(h=t({url:m,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:u,data:{username:a,password:n,grant_type:"password"}}).then(function(t){if(200==t.status){var a={secure:"https:"===window.location.protocol};o.put("Authorization",t.data.access_token,a),o.put("Refresh",t.data.refresh_token,a),o.put("IdleTimeout",t.data.expires_in,a);var n=(new Date).getTime(),r=new Date(n+1e3*parseInt(t.data.expires_in));o.put("expires",r.getTime(),a),e.$broadcast(i.userSignIn.name);var s=t.data.access_token.split("."),c=l.decode64(s[1]);c=c.replace(/\\n/g,"\\n").replace(/\\'/g,"\\'").replace(/\\"/g,'\\"').replace(/\\&/g,"\\&").replace(/\\r/g,"\\r").replace(/\\t/g,"\\t").replace(/\\b/g,"\\b").replace(/\\f/g,"\\f"),c=c.replace(/[\u0000-\u0019]+/g,""),c=JSON.parse(c),t.data=c.account}else h=null;return e.$broadcast(i.productInventoryRefresh.name),t.data},function(e){return h=null,e.data})),h},A=function(){var a=t.get(g).then(function(t){e.$broadcast(i.productInventoryRefresh.name),e.$broadcast(i.userSignOut.name),h=null,o.remove("Authorization"),o.remove("expires"),p()},function(e){});return a},w=function(n){return h&&!n||(h=t({url:f,method:"GET"}).then(function(t){if(200==t.status){if(t.data.status!==s.fail)return d(),e.$broadcast(i.userSignIn.name),a.resolve(t.data.account);h=null}else h=null;return e.$broadcast(i.userSignOut.name),a.reject(t.data)},function(t){return h=null,e.$broadcast(i.userSignOut.name),a.reject(t.data)})),h},C=function(e){var a=t.post(v,e).then(function(e){return e.data})["catch"](function(e){return e.data});return a},I=function(e){var a=t.post(S,e).then(function(e){return e.data})["catch"](function(e){return e.data});return a},T=function(){var e=o.get("Refresh");e&&t({url:m,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:u,data:{refresh_token:e,grant_type:"refresh_token"}}).then(function(e){if(200==e.status){var t={secure:"https:"===window.location.protocol};o.put("Authorization",e.data.access_token,t),o.put("Refresh",e.data.refresh_token,t);var a=(new Date).getTime(),r=new Date(a+1e3*parseInt(e.data.expires_in));o.put("expires",r.getTime(),t),d()}else n.go("home"),A();return e.data},function(e){return n.go("home"),A(),e.data})};return{isAllowed:c,signIn:b,signOut:A,getUser:w,forgotPasswordValidateEmailId:C,updatePassword:I}}]}}),angular.module("portal-core").service("UserTypesService",function(){return{authenticated:"authenticated",unauthenticated:"unauthenticated",default_external:"default_external"}}),angular.module("portal-core").service("UtilityDocumentService",["$window",function(e){function t(){return Math.max(s.scrollHeight,s.offsetHeight,l.clientHeight,l.scrollHeight,l.offsetHeight)}function a(e){var t=document.documentElement,a=e.getBoundingClientRect(),n=a.top+window.pageYOffset-t.clientTop,r=a.left+window.pageXOffset-t.clientLeft;return{top:n,left:r}}function n(e){var t=window.getComputedStyle(e),a=parseFloat(t.marginTop)+parseFloat(t.marginBottom);return Math.ceil(e.offsetHeight+a)}function r(){if(null!==e.pageXOffset)return{x:e.pageXOffset,y:e.pageYOffset};var t=e.document;return"CSS1Compat"==document.compatMode?{x:t.documentElement.scrollLeft,y:t.documentElement.scrollTop}:{x:t.body.scrollLeft,y:t.body.scrollTop}}function o(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function i(t){var a=e.document.getElementById(t);a&&a.focus()}var s=document.body,l=document.documentElement;return{getDocumentHeight:t,getElementOffset:a,getElementHeight:n,getScrollOffset:r,setFocusById:i,isElementInViewport:o}}]),angular.module("portal-core").service("ZendeskService",["$http",function(e){var t="/third-party/gateway/zendesk",a="?returnTo={returnTo}",n=[],r=function(r){if(!n[r]){var o=a.replace("{returnTo}",r),i=t;r&&(i+=o),n[r]=e({url:i})}return n[r]},o=function(){n=[]};return{generateZendeskLink:r,clearPersistentStore:o}}]),function(){function e(e,t){t.otherwise("/"),e.state("about",{url:"/about/",templateUrl:"views/about.html",controller:"AboutController",data:{pageTitle:"About | Capital One DevExchange"}})}angular.module("portal-about").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){angular.module("portal-account").config(["$stateProvider",function(e){e.state("account",{url:"/my-account/",templateUrl:"views/account.html",controller:"AccountController",resolve:{allow:["UserService",function(e){return e.isAllowed("sign-in")}]},data:{pageTitle:"My Account | Capital One DevExchange"}})}])}(),function(){function e(e){e.state("app-details",{url:"/app-details/{appId}/",templateUrl:"views/app-details.html",controller:"AppDetailsController",data:{pageTitle:"App Details | Capital One DevExchange"},resolve:{allowed:["UserService",function(e){return e.isAllowed("sign-in")}]}}).state("app-registration",{url:"/app-registration/",templateUrl:"views/app-registration.html",controller:"AppRegistrationController",params:{productId:null},data:{pageTitle:"Register an App | Capital One DevExchange"},resolve:{allowed:["UserService",function(e){return e.isAllowed("sign-in")}]}}).state("app-product-metrics",{url:"/app-product-metrics/{appId}/{clientId}/{environment}/{apiName}/{apiId}/",templateUrl:"views/app-product-metrics.html",controller:"AppProductMetricsController",data:{pageTitle:"App Metrics | Capital One DevExchange"},resolve:{allowed:["UserService",function(e){return e.isAllowed("sign-in")}]}})}angular.module("portal-apps").config(e),e.$inject=["$stateProvider"]}(),function(){function e(e){e.state("community",{url:"/community/",templateUrl:"views/community-landing.html",controller:"CommunityController",data:{pageTitle:"Community | Capital One DevExchange"}}).state("events",{url:"/events/?categoryName",templateUrl:"views/events.html",controller:"EventsController",data:{pageTitle:"Community | Capital One DevExchange"}}).state("event",{url:"/event/:eventName/",templateUrl:"views/event.html",controller:"EventController",data:{pageTitle:"Community | Capital One DevExchange"}}).state("blogs",{url:"/blogs/?categoryName",templateUrl:"views/blogs.html",controller:"BlogsController",data:{pageTitle:"Community | Capital One DevExchange"}}).state("blog-post",{url:"/blog-post/:blogId/",templateUrl:"views/blog-post.html",controller:"BlogPostController",data:{pageTitle:"Community | Capital One DevExchange"}})}angular.module("portal-community").config(e),e.$inject=["$stateProvider"]}(),function(){function e(e,t){t.otherwise("/"),e.state("error",{url:"/error/{type}/?lastState",templateUrl:"views/error.html",controller:"ErrorController",params:{lastState:{value:null,squash:!0}}})}angular.module("portal-error").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){function e(e){e.state("open-source",{url:"/open-source/:path/",templateUrl:"views/framed-content.html",controller:"FramedContentController",params:{path:{value:null,squash:!0}},data:{pageTitle:"Capital One DevExchange",frameBaseUrl:"//na-sj16.marketo.com/lp/284-ESC-480/",hideFooter:!0,hideNotificationBanner:!0,selectedNav:4}}).state("framed-content-os",{url:"/opensource-projects/:path/",templateUrl:"views/framed-content.html",controller:"FramedContentController",params:{path:{value:null,squash:!0}},data:{pageTitle:"Capital One DevExchange",frameBaseUrl:"//na-sj16.marketo.com/lp/284-ESC-480/",hideFooter:!0,hideNotificationBanner:!0,selectedNav:4}}).state("framed-content-ei",{url:"/event-info/{path}/",templateUrl:"views/framed-content.html",controller:"FramedContentController",data:{pageTitle:"Capital One DevExchange",frameBaseUrl:"//na-sj16.marketo.com/lp/284-ESC-480/",hideFooter:!0,hideNotificationBanner:!0,selectedNav:3}}).state("framed-content-cs",{url:"/case-studies/{path}/",templateUrl:"views/framed-content.html",controller:"FramedContentController",data:{pageTitle:"Capital One DevExchange",frameBaseUrl:"//na-sj16.marketo.com/lp/284-ESC-480/",hideFooter:!0,hideNotificationBanner:!0,selectedNav:1}}).state("framed-content-info",{url:"/info/{path}/",templateUrl:"views/framed-content.html",controller:"FramedContentController",data:{pageTitle:"Capital One DevExchange",frameBaseUrl:"//na-sj16.marketo.com/lp/284-ESC-480/",hideFooter:!0,hideNotificationBanner:!0}}).state("framed-content-apip",{url:"/api-products/{path}/",templateUrl:"views/framed-content.html",controller:"FramedContentController",data:{pageTitle:"Capital One DevExchange",frameBaseUrl:"//na-sj16.marketo.com/lp/284-ESC-480/",hideFooter:!0,hideNotificationBanner:!0,selectedNav:1}})}angular.module("portal-apps").config(e),e.$inject=["$stateProvider"]}(),function(){function e(e){e.state("home",{url:"/",templateUrl:"views/home.html",controller:"HomeController",data:{pageTitle:"Capital One DevExchange"}})}angular.module("portal-home").config(e),e.$inject=["$stateProvider"]}(),function(){function e(e,t){t.otherwise("/"),e.state("platform-documentation",{url:"/platform-documentation/:slug/",templateUrl:"views/platform-index.html",controller:"PlatformDocumentationController",params:{slug:{value:null,squash:!0}},data:{pageTitle:"Platform Documentation | Capital One DevExchange"}})}angular.module("portal-platform-documentation").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){function e(e,t){t.otherwise("/"),e.state("single-column-template",{url:"/single/:slug/",templateUrl:"views/single-column-template.html",controller:"SingleColumnTemplateController",data:{pageTitle:"{{ pageTitle }} | Capital One DevExchange"},resolve:{pageTitle:["PageTitleService",function(e){return e.getPageTitle()}]}})}angular.module("portal-platform-template").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){function e(e,t){t.otherwise("/"),e.state("product-codev",{url:"/codev/:appName/:id?d&:appDesc",templateUrl:"views/product-codev.html",controller:"ProductCodevController",params:{id:":id",appName:":appName",appDesc:null,clientId:":clientId",contractId:":contractId",appId:":appId",d:":d"},resolve:{allowed:["UserService",function(e){return e.isAllowed("sign-in")}]}})}angular.module("portal-product-codev").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){function e(e,t){t.otherwise("/"),e.state("product-documentation",{url:"/products/:slug/documentation/",templateUrl:"views/product-index.html",controller:"ProductDocumentationController",params:{accessProduct:!1,anchor:null},data:{pageTitle:"{{ pageTitle }} | Capital One DevExchange"},resolve:{pageTitle:["PageTitleService",function(e){return e.getPageTitle()}]}})}angular.module("portal-product-documentation").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){function e(e,t){t.otherwise("/"),e.state("product-homepage",{url:"/products/:slug/homepage/",templateUrl:"views/product-homepage.html",controller:"ProductHomepageController",params:{accessProduct:!1},data:{pageTitle:"{{ pageTitle }} | Capital One DevExchange"},resolve:{pageTitle:["PageTitleService",function(e){return e.getPageTitle()}]}})}angular.module("portal-product-homepage").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){function e(e,t){t.otherwise("/"),e.state("products",{url:"/products/",templateUrl:"views/product-inventory.html",controller:"ProductInventoryController",data:{pageTitle:"API Products | Capital One DevExchange"}})}angular.module("portal-product-inventory").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){function e(e,t){t.otherwise("/"),e.state("product-runtest",{url:"/products/playground/?:slug&code&state",templateUrl:"views/product-runtest.html",controller:"ProductRuntestController",params:{accessProduct:!1,slug:null,code:null,state:null},data:{pageTitle:"{{ pageTitle }} | Capital One DevExchange"},resolve:{pageTitle:["PageTitleService",function(e){return e.getPageTitle()}]}})}angular.module("portal-product-runtest").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){function e(e,t){t.otherwise("/"),e.state("product-testing",{url:"/app-details/:appName/:id/?d",templateUrl:"views/product-testing.html",controller:"ProductTestingController",resolve:{allowed:["UserService",function(e){return e.isAllowed("sign-in")}]}}).state("product-testing-rewards-details",{url:"/app-details/:appName/:id/details/?d",templateUrl:"views/product-testing-rewards-details.html",controller:"ProductTestingDashboardController",params:{userName:":userName",password:":password",clientId:":clientId",contractId:":contractId",appId:":appId"},resolve:{allowed:["UserService",function(e){return e.isAllowed("sign-in")}]}}).state("product-testing-swiftid-notifications",{url:"/app-details/:appName/:id/:notifications/?d",templateUrl:"views/product-testing-swiftid-notifications.html",controller:"ProductTestingController",params:{appId:":appId"},resolve:{allowed:["UserService",function(e){return e.isAllowed("sign-in")}]}})}angular.module("portal-product-testing").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){function e(e,t){t.otherwise("/"),e.state("product-tutorials",{url:"/products/:slug/tutorials/",templateUrl:"views/product-tutorials.html",controller:"ProductTutorialsController",params:{accessProduct:!1}})}angular.module("portal-product-tutorials").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){function e(e){e.state("sign-in",{url:"/sign-in/?return_to",templateUrl:"views/sign-in.html",controller:"SignInController",params:{postRoute:null,postRouteParams:null,return_to:null,errors:null},data:{pageTitle:"Sign In | Capital One DevExchange"}}).state("forgot-password",{url:"/forgot-password/",templateUrl:"views/forgot-password.html",controller:"PasswordController",data:{pageTitle:"Forgot Password | Capital One DevExchange"}}).state("password-reset-success",{url:"/success/?message?&loginLink",controller:"PasswordController",templateUrl:"views/password-reset-success.html",data:{pageTitle:"Forgot Password | Capital One DevExchange"}}).state("sign-up-success",{url:"/sign-up-success/",templateUrl:"views/sign-up-success.html",controller:"SignUpSuccessController",params:{signUpUser:null},data:{pageTitle:"Sign Up | Capital One DevExchange"}}).state("password-reset",{url:"/password-reset?token",templateUrl:"views/password-reset.html",controller:"PasswordController",data:{pageTitle:"Password Reset | Capital One DevExchange"}}).state("sign-up-verify",{url:"/sign-up-verify/?token",templateUrl:"views/sign-up-verify.html",controller:"SignUpVerifyController",data:{pageTitle:"Sign Up | Capital One DevExchange"}}).state("sign-up",{url:"/sign-up?token",templateUrl:"views/sign-up.html",controller:"SignUpController",params:{email:null,token:null},data:{pageTitle:"Sign Up | Capital One DevExchange"}}).state("sign-out",{url:"/sign-out",templateUrl:"views/sign-out.html",controller:"SignOutController",data:{pageTitle:"Sign Out | Capital One DevExchange"}}).state("closed-beta-thanks",{url:"/closed-beta-thanks",templateUrl:"views/closed-beta-thanks.html",data:{pageTitle:"Closed Beta Thanks | Capital One DevExchange"}})}angular.module("portal-signin-signup").config(e),e.$inject=["$stateProvider"]}(),function(){function e(e){e.state("support",{url:"/support/",templateUrl:"views/support.html",controller:"SupportController",data:{pageTitle:"Support | Capital One DevExchange"}})}angular.module("portal-support").config(e),e.$inject=["$stateProvider"]}(),angular.module("portal-product-codev").filter("cut",[function(){return function(e,t,a,n){if(!e)return"";if(a=parseInt(a,10),!a)return e;if(e.length<=a)return e;var r=e.lastIndexOf("."),o=e.substr(0,r),i=e.substr(r),s=o.substr(0,15),l=o.substr(o.length-12),c=s+n+l+i;return c}}]),angular.module("portal-core").filter("url_encode",[function(){return window.encodeURIComponent}]),angular.module("portal-core").filter("scrub_html",[function(){return function(e){return e?e.replace(/(<([^>]+)>)/gi,""):""}}]),angular.module("portal-core").filter("scrub_ptags",[function(){return function(e){return e?e.replace(/(<([p\/^>]+)>)/gi,""):""}}]),angular.module("portal-core").filter("scrub_html_character_codes",[function(){return function(e){return e?e.replace(/(&)+(?:\S)+(;)/gi,""):""}}]),angular.module("portal-core").filter("characters",function(){return function(e,t,a){if(isNaN(t))return e;if(t<=0)return"";if(e&&e.length>t){if(e=e.substring(0,t),a)for(;" "===e.charAt(e.length-1);)e=e.substr(0,e.length-1);else{var n=e.lastIndexOf(" ");n!==-1&&(e=e.substr(0,n))}return e+"…"}return e}}).filter("splitcharacters",function(){return function(e,t){if(isNaN(t))return e;if(t<=0)return"";if(e&&e.length>t){var a=e.substring(0,t/2),n=e.substring(e.length-t/2,e.length);return a+"..."+n}return e}}).filter("words",function(){return function(e,t,a){if(isNaN(t))return e;if(t<=0)return"";if(e){var n="";a?(n=e.replace(/<[^>]*>/g,""),n=n.split(/\s+/)):n=e.split(/\s+/),n.length>t&&(e=n.slice(0,t).join(" ")+" …")}return e}}),angular.module("access-product").directive("accessProduct",["$document","$state","$timeout","ModalService","SiteCatalystService",function(e,t,a,n,r){return{restrict:"A",scope:{accessProduct:"@"},link:function(e,o,i){e.modalClass="",e.initLaunched=!1,e.$watch(function(){i.accessProduct?(o.removeClass("hidden"),t.params.accessProduct&&!e.initLaunched&&(e.initLaunched=!0,a(function(){e.openModal("no-transition")},200))):o.addClass("hidden")}),o.bind("click",function(t){e.openModal()}),e.openModal=function(e){r.trackModal("app select"),i.accessProduct&&n.showModal({title:"Get Access",type:"generic",templateUrl:"views/access-product-modal.html",controller:"AccessProductController",size:"large",modalClass:e,inputs:{productId:i.accessProduct}},o)}}}}]),angular.module("portal-apps").directive("appVersionDetail",[function(){return{restrict:"EA",templateUrl:"views/app-version-detail.html",scope:{app:"=",version:"=",user:"="},replace:!0,controller:["$rootScope","$scope","clipboard","AppsService","ProductsService","PermissionsService","UptimeService","SiteCatalystService","RouteUtilityService","CoreEventsService",function(e,t,a,n,r,o,s,l,c,u){function d(){if(t.products.available.length&&t.version.connectedProducts){var e=null;for(t.products.allConnected=!0,i=0;i<t.products.available.length;i++){var a=t.products.available[i];t.version.connectedProducts.byId[a.versionId]?(a.connected=!0,"IT"!=t.version.connectedProducts.byId[a.versionId].environment&&(t.version.connectedProducts.byId[a.versionId].displayName=a.name,t.version.connectedProducts.byId[a.versionId].imgPath=a.imgPath)):(a.connected=!1,e=e||a,t.products.allConnected=!1)}for(t.products.selected=e,t.loading.connectedProducts=!1,t.checkForDeprecation(),i=0;i<t.version.connectedProducts.length;i++)t.getConnectedProductUptime(t.version.connectedProducts[i],t.version.connectedProducts[i].displayName||t.version.connectedProducts[i].apiName,t.version.name)}}t.actions={connectProduct:!1,editAuthorizationFields:!1},t.loading={availableProducts:!0,authenticationFields:!0,authorizationFields:!0,authorizationFieldsUpdate:!1,connectedProducts:!0,connectedProductsUpdate:!1},t.failures={authenticationFields:!1,authorizationFields:!1,authorizationFieldsUpdate:!1,authorizationFieldsValidation:!1,connectedProducts:!1,contract:!1},t.updates={authorizationFields:{redirectUri:"",privacyPloicyUri:""}},t.products={allConnected:!1,available:[],selected:null,cms:null},t.AccessStatus=n.PROD_ACCESS_STATUS,t.permissions=o;var p=o.checkPermission,m=o.ACTIONS,g=o.ROLES;t.viewTestDataToolTip={text:"Make sure there are no errors on the page to use this button",showIcon:!1,placement:"bottom"},t.version.isProd=t.version.name===n.VERSIONS.PROD,t.getAuthenticationFields=function(){t.loading.authenticationFields=!1,t.failures.authenticationFields=!1},t.testDataVariablesMissing=function(){try{return!(t.version.connectedProducts&&t.app.name&&t.version.clientId&&t.version.sharedSecret&&t.app.appId)}catch(e){return!0}},t.getConnectedProducts=function(){t.loadingConnectedProducts=!0,t.failures.connectedProducts=!1,n.getConnectedProducts(t.app,t.version).then(function(e){t.actions.connectProduct=!1,t.actions.updatingConnectedProducts=!1,t.failures.connectedProducts=!1,t.loading.connectedProducts=!1,t.version.connectedProducts.byId={};for(var a=0;a<t.version.connectedProducts.length;a++){var n=t.version.connectedProducts[a];t.version.connectedProducts.byId[n.apiId]=n}for(d(),a=0;a<t.version.connectedProducts.length;a++)t.version.connectedProducts[a].metrics={responsetime:"-",successful:"-",faults:"-",throughput:"-",uptime:"-"},t.app.appId&&t.getConnectedProductMetrics(a,t.version,t.version.connectedProducts[a].apiName)},function(e){t.loading.connectedProducts=!1,t.failures.connectedProducts=!0})},t.getConnectedProductMetrics=function(e,a,r){n.getAppMetrics(a.clientId,a.name,r,"-24h","1d").then(function(a){if(t.version.connectedProducts[e].metrics.responsetime=0,t.version.connectedProducts[e].metrics.successful=0,t.version.connectedProducts[e].metrics.faults=0,t.version.connectedProducts[e].metrics.throughput=0,a.data.Summary&&a.data.Summary.Metric)for(var n=a.data.Summary.Metric,r=0;r<n.length;r++){var o=n[r];switch(o.Name){case"Average":t.version.connectedProducts[e].metrics.responsetime+=Math.max(0,o.Value);break;case"SuccessCalls":t.version.connectedProducts[e].metrics.successful+=o.Value;break;case"FailedCalls":t.version.connectedProducts[e].metrics.faults+=o.Value;break;case"TotalCalls":t.version.connectedProducts[e].metrics.throughput+=o.Value}}})},t.getConnectedProductUptime=function(e,t,a){var n=t.split(" ").join("_").toLowerCase().replace("(","").replace(")","");
	n+="PRODUCTION"==a?"_production":"_preproduction";var r="day";s.getUptime(n,r).then(function(t){for(var a=t.data?t.data:[],n=0,r=a.length,o=0;o<a.length;o++)n+=parseFloat(a[o].availability);n>0&&(n=Math.round(n/r*100)/100),e.metrics.uptime=n+"%"})},t.getStatusForUptime=function(e){return e?(e=parseInt(e.replace("%","")),"-"==e||isNaN(e)?"":e>0?"up":e<=0?"down":""):""},t.updateAuthorizationFields=function(){if(!t.loading.authorizationFieldsUpdate){var e=t.updates.authorizationFields.redirectUri,a=t.updates.authorizationFields.privacyPolicyUri,r="^https?://",o=new RegExp(r);e&&!e.match(o)||a&&!a.match(o)?t.failures.authorizationFieldsValidation=!0:(t.loading.authorizationFieldsUpdate=!0,n.editAppVersion(t.app,t.version,t.updates.authorizationFields.redirectUri,t.updates.authorizationFields.privacyPolicyUri).then(function(e){t.loading.authorizationFieldsUpdate=!1,t.failures.authorizationFieldsUpdate=!1,t.actions.editAuthorizationFields=!1;var a=t.version.redirectUri||"",n=t.version.privacyPolicy||"";t.updates.authorizationFields.redirectUri=a.substr(0,a.length),t.updates.authorizationFields.privacyPolicyUri=n.substr(0,n.length)},function(){t.loading.authorizationFieldsUpdate=!1,t.failures.authorizationFieldsUpdate=!0}))}},t.getAppVersionDetails=function(){var e=!1;t.version.isProd?t.app.auth===g.OWNER&&(e=!0):e=!0,t.version.connectedProducts?t.loading.connectedProducts=!1:t.getConnectedProducts()},t.connectProduct=function(){t.loading.connectedProductsUpdate||(t.loading.connectedProductsUpdate=!0,l.trackAPIProductDropDown(t.products.selected.name),n.connectProduct(t.app.appId,t.products.selected.versionId,t.version.environment).then(function(a){t.failures.contract=!1,t.loading.connectedProductsUpdate=!1,t.getConnectedProducts(),"IT"==t.version.environment&&e.$broadcast(u.productInventoryRefresh.name)},function(e){t.failures.contract=!0,t.loading.connectedProductsUpdate=!1}))},t.slugify=function(e){if(e)return c.slugify(e)},t.productTestingEncode=function(e,a,n,r,o,i,s,l){i=r+s;var c=e+","+a+","+n+","+r+","+o+","+i+","+s+","+l;return t.productTesting=btoa(c),t.productTesting},t.codevEncode=function(e,a,n,r,o,i){var s=e+","+a+","+n+","+r+","+o+","+i;return t.productTesting=btoa(s),t.productTesting},t.checkForDeprecation=function(){for(i=0;i<t.version.connectedProducts.length;i++)t.version.connectedProducts[i].displayName||"IT"==t.version.connectedProducts[i].environment||(t.version.connectedProducts[i].displayName=t.version.connectedProducts[i].apiName+" (Deprecated)",t.version.connectedProducts[i].deprecated=!0)},t.isProd=function(){return"PRODUCTION"===t.version.name},t.isProdOrCodev=function(){return"PRODUCTION"===t.version.name||"IT"===t.version.name},t.isCodev=function(){return"IT"===t.version.name},t.canViewCredentials=function(){return p(t.app.auth,m[t.version.name].VIEW_CREDENTIALS)},t.canRequestProdAccess=function(){return p(t.app.auth,m.REQUEST_PRODUCTION_ACCESS)},t.canEditAuthorizationFields=function(){return!t.actions.editAuthorizationFields&&p(t.app.auth,m.EDIT_AUTHORIZATION_FIELDS)},t.allowedToCreateContract=function(){return p(t.app.auth,m[t.version.name].CREATE_CONTRACT)},t.canCreateContract=function(){return!(t.loading.availableProducts||t.loading.connectedProducts||t.failures.availableProducts||t.products.allConnected)&&p(t.app.auth,m[t.version.name].CREATE_CONTRACT)},function(){t.getAppVersionDetails(),t.loading.availableProducts=!0,"IT"===t.version.name&&t.user.eid&&t.app.auth===g.CODEVADMIN?n.getAvailablePartnerProducts().then(function(e){for(var a=0;a<e.length;a++){var n=e[a];t.products.available.push({name:n.name,versionId:n.productId,connected:!1})}t.loading.availableProducts=!1,t.failures.availableProducts=!1,d()},function(){t.loading.availableProducts=!1,t.failures.availableProducts=!0}):r.getConnectableProds().then(function(e){t.products.cms=e;for(var a=0;a<t.products.cms.length;a++){var n=t.products.cms[a],r=null;if(n["default"][0].media)for(var o=0;o<n["default"][0].media.length;o++)if("license agreement"===n["default"][0].media[o].type){r=n["default"][0].media[o].path;break}t.products.available.push({name:n["default"][0].headline,versionId:n.metadata["md:ent_contentkey"],connected:!1,imgPath:n.metadata["content.akamai.image.domain"]+n.index[0].media[0].path})}t.loading.availableProducts=!1,t.failures.availableProducts=!1,d()},function(e){t.loading.availableProducts=!1,t.failures.availableProducts=!0})}()}]}}]),angular.module("portal-apps").directive("productionRequest",[function(){return{restrict:"EA",templateUrl:"views/production-request.html",scope:{app:"=",appId:"="},replace:!0,controller:["$scope","$rootScope","$q","$filter","$window","AppsService","ProductsService","PermissionsService","$location","SiteCatalystService",function(e,t,a,n,r,o,i,s,l,c){function u(){e.errors=[];var t=e.form,a=["credentials","location","privacyPolicy","redirect","useCases","products","selectedType"],n=["address1","city","state","zipcode"],r=new RegExp("^https?://"),o=!1,i=!1;if(e.form.companyType)if("Personal"==e.form.companyType)if(e.form.year&&e.form.month&&e.form.day){var s=new Date(e.form.year,parseInt(e.form.month.number)-1,e.form.day.number),l=new Date;s.getTime()>l.getTime()&&e.errors.push("Enter a valid date of birth")}else e.errors.push("Enter a valid date of birth");else"Company"==e.form.companyType&&(e.form.companyName||e.errors.push("Provide your legal company name"));else e.errors.push("Select a company type");if(e.form.companyType)for(var c=0;c<n.length;c++)if(!t[n[c]]){e.errors.push("Enter your address");break}e.form.selectedType||e.errors.push("Select an app type");for(var c=0;c<a.length;c++)if(!t[a[c]]){e.errors.push("All app information fields are required");break}for(c=0;c<e.form.products.length;c++)if(e.form.products[c].checked){i=!0;break}i||e.errors.push("Select at least one API to connect"),t.location&&(o=!t.location.match(r)),t.privacyPolicy&&(o=!t.privacyPolicy.match(r)),t.redirect&&(o=!t.redirect.match(r)),o&&e.errors.push("URLs should begin with http:// or https://"),e.errors.length&&e.scrollToTop()}e.permissions=s,e.loading={accessRequest:!1,availableProducts:!1,requestedProducts:!1},e.failures={accessRequest:!1,availableProducts:!1,requestedProducts:!1},e.AccessStatus=o.PROD_ACCESS_STATUS,e.requestedProducts=[],e.errors=[],e.types="",e.form={credentials:"",location:"",privacyPolicy:"",redirect:"",useCases:"",products:[],selectedType:"",types:["Native Mobile","Desktop","Web","Servicing App"],companyType:null,companyTypes:["Personal","Company"],companyName:null,months:[{name:"January",number:"01",days:31},{name:"February",number:"02",days:28},{name:"March",number:"03",days:31},{name:"April",number:"04",days:30},{name:"May",number:"05",days:31},{name:"June",number:"06",days:30},{name:"July",number:"07",days:31},{name:"August",number:"08",days:31},{name:"September",number:"09",days:30},{name:"October",number:"10",days:31},{name:"November",number:"11",days:30},{name:"December",number:"12",days:31}],month:null,day:null,days:[],address1:"",address2:"",city:"",state:"",states:[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],zipcode:""},e.monthSelectChanged=function(){e.setDaysSelectList(e.form.month.days)},e.setDaysSelectList=function(t){e.form.days.length=t;for(var a=0;a<t;a++)void 0==e.form.days[a]&&(e.form.days[a]={number:a+1})},e.setDaysSelectList(31),e.requestProductionAccess=function(){if(u(),!e.loading.accessRequest&&!e.errors.length){var t={name:e.app.name,appId:e.app.appId,appName:e.app.name,appType:e.form.selectedType,appLocation:e.form.location,appCredentials:n("scrub_html")(e.form.credentials),appDescription:n("scrub_html")(e.form.useCases),isApplicationApproved:!1,isApplicationDenied:!1,isApplicationReview:!1,isContractSubmitted:!1,isProductionAccessGranted:!1,isProductionAccessRequested:!0,privacyPolicyURL:e.form.privacyPolicy,redirectURL:e.form.redirect,requestedTPS:0,apiRequestedId:null,apiRequestedName:null},r=e.form.address1;if(e.form.address2.length&&(r+=" "+e.form.address2),r+=" "+e.form.city+" "+e.form.state.abbreviation+" "+e.form.zipcode,"Personal"==e.form.companyType){var i=parseInt(e.form.month.number)+"/"+e.form.day.number+"/"+e.form.year;t.individDob=i,t.individAddress=r,t.companyName="",t.companyAddress=""}else"Company"==e.form.companyType&&(t.individDob="",t.individAddress="",t.companyName=e.form.companyName,t.companyAddress=r);var s=[],l=function(t){return e.failures.accessRequest=!1,e.scrollToTop(),e.app.prodAccess=o.PROD_ACCESS_STATUS.REQUESTED,t},c=function(t){e.failures.accessRequest=!0,e.failures.availableProducts=!0,e.scrollToTop()};e.loading.accessRequest=!0,e.loading.requestedProducts=!0;for(var d=0;d<e.form.products.length;d++)if(e.form.products[d].checked){var p=JSON.parse(JSON.stringify(t));p.apiRequestedId=e.form.products[d].versionId,p.apiRequestedName=e.form.products[d].name,s.push(o.requestProductionAccess(e.app,p).then(l,c))}a.all(s).then(function(t){e.loading.accessRequest=!1,e.loading.requestedProducts=!1})}},e.scrollToTop=function(){r.scrollTo(0,505)},e.createProductContractsList=function(){e.loading.productChecks=!0,e.loading.availableProducts=!0,e.form.products=[];i.getProducts().then(function(t){if(t.length){for(var a=0;a<t.length;a++){for(var n=t[a],r=!1,o=0;o<e.app.versions.SANDBOX.connectedProducts.length;o++)if(e.app.versions.SANDBOX.connectedProducts[o].apiId==n.metadata["md:ent_contentkey"]){r=!0;break}if(r){for(var i={path:"",altText:""},s=0;s<n["default"][0].media.length;s++)if("license agreement"===n["default"][0].media[s].type){i=n["default"][0].media[s];break}e.form.products.push({name:n["default"][0].headline,versionId:n.metadata["md:ent_contentkey"],checked:!1,license:i.path?n.metadata["content.akamai.image.domain"]+i.path:"",licenseText:i.altText})}}if(e.app.versions.IT)for(var l=0;l<e.app.versions.IT.connectedProducts.length;l++){var c=e.app.versions.IT.connectedProducts[l];e.form.products.push({name:c.apiName,versionId:c.apiId,checked:!1})}e.failures.availableProducts=!1}else e.failures.availableProducts=!0;e.loading.availableProducts=!1},function(t){e.loading.availableProducts=!1,e.failures.availableProducts=!0})},e.watchForData=function(){var t=e.$watch("app",function(){e.app&&(t(),o.getConnectedProducts(e.app,{environment:"SANDBOX"}).then(function(t){e.createProductContractsList()}))})},function(){e.watchForData(),t.$on("tabSelected",function(t,a){"PRODUCTION"===a&&e.watchForData()})}()}]}}]),angular.module("portal-core").directive("blogs",function(){return{restrict:"EA",templateUrl:"views/blog-directive.html",scope:{bloglist:"="},controller:["$scope","$attrs","$filter","RouteUtilityService",function(e,t,a,n){e.typeToShow=t.page,e.homeurl="https://"+location.hostname+"/blog-post",e.slugify=function(e){var t=a("scrub_html")(e);return t=a("scrub_html_character_codes")(t),n.slugify(t)}}]}}),angular.module("portal-core").directive("communityMobileNav",function(){return{restrict:"EA",templateUrl:"views/community-mobile-nav.html",scope:{typelist:"=",eventsEnabled:"="},controller:["$scope","$attrs","$state","$location",function(e,t,a,n){e.currentHeader=function(e){if(e==t.header)return"current-page-item"},e.mobileMenuExpanded="closed",e.mobileMenuIconClass="oui-icon-menu",a.params.categoryName&&(e.categoryName=a.params.categoryName.valueOf(),e.selectedCategory=e.categoryName),e.redirectToCategory=function(){"all-events"==e.typeToShow?n.path("/events").search({categoryName:e.selectedCategory}):n.path("/blogs").search({categoryName:e.selectedCategory})},e.toggleMobileMenu=function(){"open"==e.mobileMenuExpanded?e.closeMobileMenu():"closed"==e.mobileMenuExpanded&&e.openMobileMenu()},e.openMobileMenu=function(){e.mobileMenuExpanded="open",e.mobileCategoryIconClass="oui-icon-close"},e.closeMobileMenu=function(){e.mobileMenuExpanded="closed",e.mobileCategoryIconClass="oui-icon-arrow-down"}}]}}),angular.module("portal-core").directive("communityNav",function(){return{restrict:"EA",templateUrl:"views/community-nav.html",scope:{typelist:"=",activecategory:"="},controller:["$scope","$attrs",function(e,t){e.currentHeader=function(e){if(e==t.header)return"current-page-item"},e.currentBlogHeader=function(e){if(e==t.activecategory)return"active"}}]}}),angular.module("portal-core").directive("events",function(){return{restrict:"EA",templateUrl:"views/event-directive.html",scope:{eventlist:"="},controller:["$scope","$attrs","$filter","RouteUtilityService",function(e,t,a,n){e.typeToShow=t.page,e.homeurl="https://"+location.hostname+"/event",e.slugify=function(e){var t=a("scrub_html")(e);return t=a("scrub_html_character_codes")(t),n.slugify(t)}}]}}),angular.module("portal-core").directive("iobanner",function(){return{restrict:"EA",templateUrl:"views/io-banner-directive.html",scope:{},controller:["$scope","$attrs","$location",function(e,t,a){e.bannerClass="closed";var n=a.search();n.io&&"true"==n.io&&(e.bannerClass="open"),e.close=function(){e.bannerClass="closed"}}]}}),angular.module("portal-footer").directive("portalFooter",["$filter","ProductsService","RouteUtilityService",function(e,t,a){return{restrict:"A",templateUrl:"views/footer.html",scope:{},controller:["$rootScope","$scope","$state",function(n,r,o){r.hideFooter=!1,n.$on("$stateChangeSuccess",function(e,t,a,n,o){r.shouldHideFooter()}),r.shouldHideFooter=function(){r.hideFooter=!1,o.current.data&&o.current.data.hideFooter&&(r.hideFooter=!0)},r.shouldHideFooter(),t.getFeaturedProducts().then(function(e){r.featuredProducts=e}),r.slugify=function(t){var n=e("scrub_html")(t);return n=e("scrub_html_character_codes")(n),a.slugify(n)}}]}}]),function(){"use strict";function e(){return{restrict:"A",templateUrl:"views/header.html",controller:"HeaderController"}}angular.module("portal-header").directive("portalHeader",e)}(),angular.module("portal-platform-documentation").directive("platformTutorialHtml",["$compile","$window","$document","UtilityDocumentService","LanguageTypesService",function(e,t,a,n,r){return{restrict:"A",replace:!0,templateUrl:"views/platform-tutorial-directive.html",link:function(a,o,i){a.$watch(i.platformTutorialHtml,function(i){var s=angular.element(o[0].querySelector("#cms-documentation-markup"));s.html(i),e(s.contents())(a);var l=o[0].querySelectorAll("#cms-documentation-markup code"),c=l.length,u=r.acceptableLanguages,d=0;a.foundLanguages=[];for(var p=0;p<c;p++){for(var m=0;m<u.length;m++)l[p].className.toLowerCase().indexOf(u[m])>=0&&(a.foundLanguages[u[m]]=!0,d++);""===l[p].className&&angular.element(l[p]).addClass("inline")}var g,f=angular.element(o[0].querySelector("#lang-selector")),h="";d<=0?o.addClass("no-code"):o.removeClass("no-code");for(var v in a.foundLanguages)a.foundLanguages.hasOwnProperty(v)&&(h+='<button id="language-'+v+'-button" class="lang-button" ng-click="showLanguage(\''+v+"')\">"+v+"</button>",g||(g=v));f.html(h),e(f.contents())(a),a.showLanguage(g),a.checkAffix=function(){var e=Math.max(0,n.getScrollOffset(t).y);e>370?f.addClass("affixed"):f.removeClass("affixed")},angular.element(t).bind("scroll",a.checkAffix)}),a.showLanguage=function(e){angular.element(o[0].querySelectorAll(".lang-button")).removeClass("active"),angular.element(o[0].querySelector("#language-"+e+"-button")).addClass("active");for(var t in a.foundLanguages)a.foundLanguages.hasOwnProperty(t)&&angular.element(o[0].querySelectorAll("code."+t)).addClass("hidden");angular.element(o[0].querySelectorAll("."+e)).removeClass("hidden")}}}}]),angular.module("portal-core").directive("inputTooltipCodev",["$compile",function(e){return{restrict:"E",transclude:!0,scope:{content:"="},templateUrl:"views/input-tooltip-codev.html",link:function(t,a,n){t.tooltip=angular.element(a[0].querySelector(".tooltip")),t.$watch(n.content,function(n){t.input1=angular.element(a[0]);var r=t.content.key+"  "+t.content.owner;t.tooltip.html(r),e(t.tooltip)(t),t.input1.bind("mouseover",t.showTooltip),t.input1.bind("mouseout",t.hideTooltip),t.input1.on("$destroy",function(){t.input1.unbind("focus"),t.input1.unbind("hover"),t.input1.unbind("blur")})}),t.showTooltip=function(){"clean"!=t.content.status&&"malware"!=t.content.status&&"error"!=t.content.status||t.tooltip.addClass("show")},t.hideTooltip=function(){t.tooltip.removeClass("show")}}}}]),angular.module("portal-product-codev").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,n){var r=e(n.fileModel),o=r.assign;a.bind("change",function(){t.$apply(function(){o(t,a[0].files[0])}),t.$emit("myFile",t.myFileModel),a[0].value=""})}}}]),angular.module("portal-product-documentation").directive("cmsDocumentationHtml",["$compile","$window","$document","UtilityDocumentService","LanguageTypesService",function(e,t,a,n,r){return{restrict:"A",replace:!0,templateUrl:"views/cms-documentation-directive.html",link:function(a,o,i){a.$watch(i.cmsDocumentationHtml,function(i){var s=angular.element(o[0].querySelector("#cms-documentation-markup"));s.html(i),e(s.contents())(a);var l='<div sticky-toc stickoffset="0" highlightoffset="100"></div>',c=angular.element(o[0].querySelector("#cms-documentation-nav"));c.html(l),e(c.contents())(a);var u=o[0].querySelectorAll("#cms-documentation-markup code"),d=u.length,p=r.acceptableLanguages,m=0;a.foundLanguages=[];for(var g=0;g<d;g++){for(var f=0;f<p.length;f++)u[g].className.toLowerCase().indexOf(p[f])>=0&&(a.foundLanguages[p[f]]=!0,m++);""===u[g].className&&angular.element(u[g]).addClass("inline")}var h,v=angular.element(o[0].querySelector("#lang-selector")),S="";m<=0?v.addClass("hidden"):v.removeClass("hidden");for(var y in a.foundLanguages)a.foundLanguages.hasOwnProperty(y)&&(S+='<button id="language-'+y+'-button" aria-label="Set code pane to display '+y+' code" class="lang-button" role="tab" aria-selected="false" ng-click="showLanguage(\''+y+"')\">"+y+"</button>",h||(h=y));v.html(S),e(v.contents())(a),a.showLanguage(h),a.checkAffix=function(){var e=Math.max(0,n.getScrollOffset(t).y);e>285?v.addClass("affixed"):v.removeClass("affixed")},angular.element(t).bind("scroll",a.checkAffix)}),a.showLanguage=function(e){var t=angular.element(o[0].querySelectorAll(".lang-button"));t.removeClass("active"),t.attr("aria-selected",!1),t=angular.element(o[0].querySelector("#language-"+e+"-button")),t.addClass("active"),t.attr("aria-selected",!0);for(var n in a.foundLanguages)a.foundLanguages.hasOwnProperty(n)&&(t=angular.element(o[0].querySelectorAll("code."+n)),t.addClass("hidden"),t.attr("aria-hidden",!0));t=angular.element(o[0].querySelectorAll("."+e)),t.removeClass("hidden"),t.attr("aria-hidden",!1)}}}}]),angular.module("support-callout").directive("supportCallout",["SupportCalloutService",function(e){return{restrict:"EA",templateUrl:"views/support-callout.html",controller:["$scope",function(t){e.getSupportCallout().then(function(e){e.article?t.content=e.article.question["default"][0]:t.content=null},function(e){t.content=null})}]}}]),angular.module("portal-apps").directive("appFieldCopy",[function(){return{restrict:"EA",templateUrl:"views/app-field-copy.html",scope:{text:"=",identifier:"@",hidetext:"="},replace:!0,controller:["$scope","$timeout","clipboard",function(e,t,a){e.copied=!1,e.copyText=function(){a.copyText(e.text),e.copied=!0,t(function(){e.copied=!1},2e3)}}]}}]),angular.module("portal-core").directive("betatitle",[function(){return{restrict:"EA",templateUrl:"views/beta-title.html",replace:!0,scope:{show:"=",color:"@"},link:function(e,t){e.show?e.color&&t.addClass(e.color):t.remove()}}}]),angular.module("portal-core").directive("backImg",function(){return function(e,t,a){a.$observe("backImg",function(e){t.css({"background-image":"url("+e+")"})})}}),angular.module("portal-core").directive("breadcrumb",["$state","$stateParams",function(e,t){return{restrict:"EA",templateUrl:"views/breadcrumb.html",replace:!0,scope:{items:"="},link:function(t){t.goToBreadcrumbState=function(t){e.go(t.state,t.stateParams)}}}}]),angular.module("portal-core").directive("cmsHtml",["$compile",function(e){return{restrict:"A",replace:!0,link:function(t,a,n){t.$watch(n.cmsHtml,function(n){a.html(n),e(a.contents())(t)})}}}]),angular.module("portal-core").directive("contentOverlay",["$window",function(e){return{restrict:"EA",templateUrl:"views/content-overlay.html",replace:!0,scope:{active:"="},link:function(t,a){var n=e.innerHeight;a.css("min-height",n+"px"),angular.element(e).bind("resize",function(){n=e.innerHeight,a.css("min-height",n+"px")})}}}]),angular.module("portal-core").directive("idle",["$state","$document","$cookies","Idle","CoreEventsService","ModalService","UserService",function(e,t,a,n,r,o,i){return{restrict:"EA",template:"",replace:!0,scope:{},controller:["$scope","$element","ModalService",function(t,o,s){t.$on(r.userSignIn.name,function(e,t,r,o,i){n.setIdle(a.get("IdleTimeout")),n.watch()}),t.$on(r.userSignOut.name,function(e,t,a,r,o){n.unwatch()}),t.$on("IdleTimeout",function(){t.modal=null,i.signOut().then(function(t){e.go("sign-in",{errors:[{msg:"You have been logged out due to inactivity.",inputId:"inputEmail"}]})})}),t.$on("IdleEnd",function(){t.modal=null}),t.$on("IdleStart",function(){t.modal||(t.modal=s.showModal({title:"Are you still there?",type:"generic",templateUrl:"views/idle-modal.html",controller:"IdleModalController",size:"large",modalClass:"",inputs:{}},o),t.$apply())})}]}}]),angular.module("portal-core").directive("inputTooltip",["$compile",function(e){return{restrict:"E",transclude:!0,templateUrl:"views/input-tooltip.html",link:function(t,a,n){t.input=angular.element(a[0].querySelector("input")),t.tooltip=angular.element(a[0].querySelector(".tooltip")),t.$watch(n.content,function(a){t.tooltip.html(a),e(t.tooltip)(t),t.input.bind("focus",t.showTooltip),t.input.bind("blur",t.hideTooltip),t.input.on("$destroy",function(){t.input.unbind("focus"),t.input.unbind("blur")})}),t.showTooltip=function(){t.tooltip.addClass("show")},t.hideTooltip=function(){t.tooltip.removeClass("show")}}}}]),angular.module("portal-core").directive("loadingGroup",function(){return{restrict:"EA",templateUrl:"views/loading-group.html",replace:!0,transclude:!0,scope:{active:"=",failed:"=",reload:"=",message:"="}}}),angular.module("portal-core").directive("product",["$state","RouteUtilityService",function(e,t){return{restrict:"EA",templateUrl:"views/template-1.html",scope:{content:"="},link:function(e){},controller:["$scope",function(e){}]}}]),angular.module("portal-core").directive("stickyNav",["$window","$document","UtilityDocumentService",function(e,t,a){return{restrict:"A",templateUrl:"views/sticky-nav.html",scope:{targets:"=",highlightoffset:"=",stickoffset:"=",additionallinks:"="},link:function(t,n,r,o){t.navParents=[];for(var i=document.querySelectorAll("[nav-parent]"),s=0;s<i.length;s++){var l=i[s];l.setAttribute("nav-target","parent-"+s);var c={};c.title=l.getAttribute("nav-title")||l.textContent,c.tag="a-"+s,c.target="parent-"+s,c.children=[];for(var u=l.querySelectorAll("[nav-child]"),d=0;d<u.length;d++){var p=u[d];p.setAttribute("nav-target","child-"+s+"-"+d);var m={};m.title=p.getAttribute("nav-title")||l.textContent,m.tag="a-"+s+"-"+d,m.target="child-"+s+"-"+d,m.route=p.getAttribute("nav-route"),m.routeParams=p.getAttribute("nav-route-params"),c.children.push(m)}t.navParents.push(c)}if(t.checkAffix=function(){maxOffset=a.getDocumentHeight();var r=Math.max(0,a.getScrollOffset(e).y),o=document.body,i=document.documentElement,s=Math.max(o.scrollHeight,o.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),l=r+window.innerHeight;if(r+window.innerHeight>=s-300){var c=l-(s-300);n.css({height:window.innerHeight-t.stickoffset-c+"px"})}else r>t.sidebarY?n.addClass("affixed").removeAttr("style").css({top:t.stickoffset+"px"}):n.removeClass("affixed");t.lastOffset=r;var u=null,d=null,p=null,m=null,f=0,h=0;if(r>=maxOffset)d=angular.element(document.getElementById("a-"+(t.navParents.length-1))),u=t.navParents[navParents.length-1];else if(r<t.topOffset)d=angular.element(document.getElementById("a-0")),u=t.navParents[0];else for(h=0;h<t.navParents.length;h++){if(u=t.navParents[h],m=document.querySelector(g.replace("{target}",u.target)),f=a.getElementOffset(m).top-t.highlightoffset,!(r>=f)){u=t.navParents[h-1];break}d=angular.element(document.getElementById("a-"+h))}if(u)for(h=0;h<u.children.length;h++){var v=u.children[h];m=document.querySelector(g.replace("{target}",v.target)),f=a.getElementOffset(m).top-t.highlightoffset,r>=f&&(p=angular.element(document.getElementById(u.tag+"-"+h)))}n.find("a").removeClass("active"),d&&!p?angular.element(d.find("a")[0]).addClass("active"):d&&p&&angular.element(p.find("a")[0]).addClass("active")},r.additionallinks)t.stickoffset=t.stickoffset||0,t.sidebarY=a.getElementOffset(n[0]).top-t.stickoffset,angular.element(e).bind("scroll",t.checkAffix),n.on("$destroy",function(){angular.element(e).unbind("scroll")});else{var g="[nav-target={target}]";t.stickoffset=t.stickoffset||0,t.highlightoffset=t.highlightoffset||0,t.sidebarY=a.getElementOffset(n[0]).top-t.stickoffset,t.topOffset=a.getElementOffset(document.querySelector(g.replace("{target}",t.navParents[0].target))).top-t.highlightoffset,angular.element(e).bind("scroll",t.checkAffix),n.on("$destroy",function(){angular.element(e).unbind("scroll")})}},controller:["$scope","UtilityDocumentService",function(e,a){e.scrollTo=function(e){t.scrollTop(a.getElementOffset(document.querySelector("[nav-target="+e+"]")).top,700)}}]}}]),angular.module("portal-core").directive("stickyToc",["$window","$document","UtilityDocumentService",function(e,t,a){return{restrict:"A",templateUrl:"views/sticky-nav.html",scope:{targets:"=",highlightoffset:"=",stickoffset:"="},link:function(t,n,r,o){var i="h2",s="h3",l="divider";t.navParents=[];var c=document.querySelectorAll(i+", "+s+", ."+l),u=c.length,d=0;if(u){for(var p=0;p<u;p++){var m=c[p];if(m.tagName.toLowerCase()===i){m.setAttribute("nav-target","parent-"+d);var g={};g.title=m.getAttribute("nav-title"),g.title||(g.title=m.innerHTML.replace(/(<([^>]+)>)/gi,"")),g.tag="a-"+d,g.target="parent-"+d,g.children=[],g.divider=!1;for(var f=0,h=p+1;h<u;h++){var v=c[h];if(v.tagName.toLowerCase()===i)break;if(v.tagName.toLowerCase()===s){v.setAttribute("nav-target","child-"+d+"-"+f);var S={};S.title=v.getAttribute("nav-title"),S.title||(S.title=v.innerHTML),S.tag="a-"+d+"-"+f,S.target="child-"+d+"-"+f,g.children.push(S),f++}}t.navParents.push(g),d++}else if(m.className===l){var y={};y.title=m.getAttribute("nav-title"),y.divider=!0,y.title||(y.title=m.innerHTML),t.navParents.push(y),d++}}if(t.navParents.length){var b="[nav-target={target}]";t.stickoffset=t.stickoffset||0,t.highlightoffset=t.highlightoffset||0,t.sidebarY=a.getElementOffset(n[0]).top-t.stickoffset,t.lastOffset=0,t.topOffset=a.getElementOffset(document.querySelector(b.replace("{target}",t.navParents[0].target))).top-t.highlightoffset,t.checkAffix=function(){maxOffset=a.getDocumentHeight();var r=Math.max(0,a.getScrollOffset(e).y),o=document.body,i=document.documentElement,s=Math.max(o.scrollHeight,o.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight),l=r+window.innerHeight;if(r+window.innerHeight>=s-350){var c=l-(s-350);n.css({height:window.innerHeight-t.stickoffset-c+"px"})}else r>t.sidebarY?n.addClass("affixed").removeAttr("style").css({top:t.stickoffset+"px"}):n.removeClass("affixed");t.lastOffset=r;var u=null,d=null,p=null,m=null,g=0,f=0;if(r>=maxOffset)d=angular.element(document.getElementById("a-"+(t.navParents.length-1))),u=t.navParents[navParents.length-1];else if(r<t.topOffset)d=angular.element(document.getElementById("a-0")),u=t.navParents[0];else for(f=0;f<t.navParents.length;f++)if(u=t.navParents[f],!u.divider){if(m=document.querySelector(b.replace("{target}",u.target)),g=a.getElementOffset(m).top-t.highlightoffset,!(r>=g)){u=t.navParents[f-1];break}d=angular.element(document.getElementById("a-"+f))}if(!u.divider){for(f=0;f<u.children.length;f++){var h=u.children[f];m=document.querySelector(b.replace("{target}",h.target)),g=a.getElementOffset(m).top-t.highlightoffset,r>=g&&(p=angular.element(document.getElementById(u.tag+"-"+f)))}n.find("a").removeClass("active"),d&&!p?angular.element(d.find("a")[0]).addClass("active"):d&&p&&angular.element(p.find("a")[0]).addClass("active")}},angular.element(e).bind("scroll",t.checkAffix),n.on("$destroy",function(){angular.element(e).unbind("scroll")})}}},controller:["$scope","UtilityDocumentService",function(e,a){e.scrollTo=function(e){t.scrollTop(a.getElementOffset(document.querySelector("[nav-target="+e+"]")).top,700)}}]}}]),angular.module("portal-core").directive("tabs",function(){return{restrict:"EA",templateUrl:"views/tabs-directive.html",scope:{tabset:"="},controller:["$scope",function(e){e.activeTab=0,e.isActive=function(t){return e.activeTab==t},e.setActive=function(t){e.activeTab=t}}]}}),angular.module("portal-core").directive("portalUsabilla",[function(){return{restrict:"EA",template:'<div ub-in-page="5786905dd3ee0d96c54966f5"></div>',replace:!0,scope:{},controller:["$window",function(e){e.usabilla.ready()}]}}]),angular.module("portal-core").directive("zendesklink",["$timeout","ZendeskService","UserService","CoreEventsService",function(e,t,a,n){return{restrict:"EA",link:function(r,o,i){var s=o[0],l=i.zendesklink?i.zendesklink:"https://developer-support.capitalone.com",c=[];r.init=function(){r.getUserPromise=a.getUser(),r.getUserPromise&&r.getUserPromise.then(function(e){e.id&&(r.authenticated=!0),r.getZendeskLink(s,l)}),r.$on(n.userSignIn.name,function(e,t,a,n,o){r.authenticated=!0,r.getZendeskLink(s,l)}),r.$on(n.userSignOut.name,function(e,t,a,n,o){r.authenticated=!1,r.getZendeskLink(s,l)})},r.getZendeskLink=function(a,n){r.authenticated?t.generateZendeskLink(n).then(function(t){r.authenticated&&(r.zendesksupportlink=t.data.jwtUrl||n,a.setAttribute("href",r.zendesksupportlink),c[n]||(c[n]=e(function(){r.refreshLink(a,n)},18e4)))},function(e){r.authenticated&&(r.zendesksupportlink=n,a.setAttribute("href",r.zendesksupportlink))}):(r.zendesksupportlink=n,a.setAttribute("href",r.zendesksupportlink));
},r.refreshLink=function(e,a){c[a]=null,t.clearPersistentStore(),r.getZendeskLink(e,a)},r.init()}}}]),angular.module("portal-product-runtest").directive("directiveGenerator",["$compile",function(e){return{restrict:"EA",scope:{directivename:"=",elementlist:"=",directivetype:"=",apiname:"="},link:function(t,a){var n="<span "+t.directivetype+' elementlist="elementlist" apiname="apiname" directivename="directivename"></span>',r=e(n),o=r(t);a.append(o)}}}]),angular.module("portal-product-runtest").directive("dropdown",[function(){return{restrict:"EA",templateUrl:"views/dropdown.html",scope:{elementlist:"=",directivename:"=",apiname:"="},replace:!0,controller:["$scope","$state","UtilityDocumentService","$document","$timeout","$attrs","$window","$anchorScroll","ProductsService","RouteUtilityService","$location","SiteCatalystService","PageTitleService","ProductTestingService","ProductRuntestService","UserService","AppsService","StatusCodesService","ProductRuntestStateService",function(e,t,a,n,r,o,i,s,l,c,u,d,p,m,g,f,h,v,S){var y=S.getState();e.initialCount=0,e.teston=!0,e.clickDropdown=function(){e.teston=!0;var t=document.getElementById("select_id"),a=document.createEvent("MouseEvents");a.initMouseEvent("mousedown",!0,!0,window),t.dispatchEvent(a)},e.mouseHoverElement=function(){e.teston=!1},e.mouseLeaveElement=function(){e.teston=!0},e.countdirectivegenerator=y.countDirectiveGenerator,e.selectedElement=e.elementlist[0],e.selectElement=function(t){e.initialCount>0&&e.$emit("stateChangedEmit","resetApi,"+e.apiname),S.setSelectedElement(e.directivename,t),e.$emit("stateChangedEmit","selectedElement,"+e.directivename),e.initialCount=1},e.selectElement(e.elementlist[0]),S.countDirectiveGenerator()}]}}]),angular.module("portal-product-runtest").directive("maindropdown",[function(){return{restrict:"EA",templateUrl:"views/maindropdown.html",scope:{elementlist:"=",directivename:"=",apiname:"="},replace:!0,controller:["$scope","$state","UtilityDocumentService","$document","$timeout","$attrs","$window","$anchorScroll","ProductsService","RouteUtilityService","$location","SiteCatalystService","PageTitleService","ProductTestingService","ProductRuntestService","UserService","AppsService","StatusCodesService","ProductRuntestStateService",function(e,t,a,n,r,o,i,s,l,c,u,d,p,m,g,f,h,v,S){var y=S.getState();e.initialCount=0,e.teston=!0,e.clickDropdown=function(){e.teston=!0;var t=document.getElementById("select_id"),a=document.createEvent("MouseEvents");a.initMouseEvent("mousedown",!0,!0,window),t.dispatchEvent(a)},e.mouseHoverElement=function(){e.teston=!1},e.mouseLeaveElement=function(){e.teston=!0},e.countdirectivegenerator=y.countDirectiveGenerator,e.selectedElement=e.elementlist[0],e.selectElement=function(t){e.initialCount>0&&e.$emit("stateChangedEmit","resetApi,"+e.apiname),S.setSelectedElement(e.directivename,t),e.$emit("stateChangedEmit","selectedElement,"+e.directivename),e.initialCount=1},e.selectElement(e.elementlist[0]),S.countDirectiveGenerator()}]}}]),angular.module("portal-product-runtest").directive("productRuntestAccesstokenTab",[function(){return{restrict:"EA",templateUrl:"views/product-runtest-accesstoken-tab.html",scope:{slug:"="},replace:!0,controller:["$scope","$state","UtilityDocumentService","$document","$timeout","$attrs","$window","$anchorScroll","ProductsService","RouteUtilityService","$location","SiteCatalystService","PageTitleService","ProductTestingService","ProductRuntestService","UserService","AppsService","StatusCodesService","ProductRuntestStateService",function(e,t,a,n,r,o,i,s,l,c,u,d,p,m,g,f,h,v,S){var y=S.getState();e.countCallApi=y.countCallApi,S.setCountCallApi(0),e.callApiExist=!0,e.$on("stateChangedBroadcast",function(t,a){var n=S.getState();e.cmstoken=n.cmsData.token[0],e.cmsglobaldata=n.cmsGlobalData,e.istokenreqsent=n.isTokenReqSent,e.tokenNextStep=n.tokenNextStep,e.clientid=n.clientId,e.clientsecret=n.clientSecret,e.gwhost=n.gwHost,e.authcode=n.authCode,e.redirecturi=n.redirectUri,e.tokenMessage=n.tokenMessage,e.isTokenValid=n.isTokenValid,n.cmsData&&n.cmsData.callapi1[0].callApiNotExist&&(e.callApiExist=!1)}),e.enableNext=function(){d.trackButton("Playground token next step"),e.tokenNextStep="",e.tokenMessage="",S.setTokenMessage(""),S.setTokenNextStep(""),S.setCurrStep("CallApi"),S.setIsStep3Enabled(!0),S.setCallApiTab(!0),S.setIsCallApiReqSent(!1),e.$emit("stateChangedEmit","tabScroll"),r(function(){var e=document.getElementById("_tab_callapi_focus");e.focus()},1e3)},e.loading={response:!1,failures:!1},e.resetFlow=function(){S.reset(),e.$emit("stateChangedEmit","tabScroll"),t.go("product-runtest",{accessProduct:!1,slug:e.slug,code:null,state:null},{notify:!1,reload:!1,location:"replace",inherit:!0})}}]}}]),angular.module("portal-product-runtest").directive("productRuntestAuthorizationTab",[function(){return{restrict:"EA",templateUrl:"views/product-runtest-authorization-tab.html",scope:{slug:"="},replace:!0,controller:["$scope","$state","UtilityDocumentService","$document","$timeout","$attrs","$window","$anchorScroll","ProductsService","RouteUtilityService","$location","SiteCatalystService","PageTitleService","ProductTestingService","ProductRuntestService","UserService","AppsService","StatusCodesService","ProductRuntestStateService",function(e,t,a,n,r,o,i,s,l,c,u,d,p,m,g,f,h,v,S){e.hidetext="true",e.$on("stateChangedBroadcast",function(t,a){var n=S.getState();e.cmsauth=n.cmsData.auth[0],e.cmscommon=n.cmsData.common[0],e.cmsglobaldata=n.cmsGlobalData,e.isAuthReqSent=n.isAuthReqSent,e.selectedapp={},e.selectedapp.clientId=n.selApp,e.idbhost=n.idbHost,e.redirecturi=n.redirectUri,e.clientid=n.clientId,e.testdata=n.testData,e.respBody=n.respBody,e.selectedTabResp=n.selectedTabResp,e.authRespText=n.authRespText,e.authMessage=n.authMessage,e.authNextStep=n.authNextStep,e.redirectImportant=n.redirectImportant,e.slug?S.setSlug(e.slug):n.slug&&(e.slug=n.slug),"tabScroll"==a&&e.isAuthReqSent&&e.authMessage&&e.scrollDelay(0,"#_auth_response"),e.curlcopy=e.cmsauth.requrl.replace("{{idbhost}}",e.idbhost).replace("{{redirecturi}}",e.redirecturi).replace("{{clientid}}",e.clientid)}),e.scrollTo=function(e){n.scrollTop(a.getElementOffset(document.querySelector(e)).top,700);var t=document.getElementById("_auth_resp_body_tab");t.focus()},e.scrollDelay=function(t,a){r(function(){e.scrollTo(a)},t)},e.loading={testData:!0,pageId:!1},e.failures={testData:!1,pageId:!1},e.authSendRequest=function(){var t=window.btoa(e.slug+","+e.selectedapp.clientId),a=e.cmsauth.requrl.replace("{{idbhost}}",e.idbhost).replace("{{redirecturi}}",e.redirecturi).replace("{{clientid}}",e.clientid);d.trackButton("Playground auth request"),i.location.href=a+"&state="+t},e.scrollFast=function(e){u.hash(e),s()},e.resetFlow=function(){S.reset(),e.$emit("stateChangedEmit","tabScroll"),t.go("product-runtest",{accessProduct:!1,slug:e.slug,code:null,state:null},{notify:!1,reload:!1,location:"replace",inherit:!0})},e.enableNext=function(){d.trackButton("Playground auth next step"),e.authNextStep="",e.authMessage=!1,S.setAuthMessage(e.authMessage),S.setAuthNextStep(e.authNextStep),S.setCurrStep("AccessToken"),S.setIsStep2Enabled(!0),e.$emit("stateChangedEmit","tabScroll"),r(function(){var e=document.getElementById("_tab_accesstoken_focus");e.focus()},1e3)}}]}}]),angular.module("portal-product-runtest").directive("productRuntestCallapi",[function(){return{restrict:"EA",templateUrl:"views/product-runtest-callapi.html",scope:{slug:"=",requesttoken:"=",api:"="},controller:["$scope","UtilityDocumentService","$document","$timeout","$state","$window","$anchorScroll","ProductsService","RouteUtilityService","$location","SiteCatalystService","PageTitleService","ProductTestingService","ProductRuntestService","UserService","AppsService","StatusCodesService","ProductRuntestStateService",function(e,t,a,n,r,o,i,s,l,c,u,d,p,m,g,f,h,v){e.dropdown="dropdown",e.isReqSent="";var S=v.getState();e.countDirectiveGenerator=S.countDirectiveGenerator,e.elementStateIndex=S.elementStateIndex,e.hidetext=!0,e.countcallapi=S.countCallApi,v.countCallApi(),e.$emit("stateChangedEmit","countCallApi"),e.api&&(v.setApi(e.api),e.showKey=e.api.showkey,e.table=e.api.table),e.$on("stateChangedBroadcast",function(t,a){var n=v.getState();if(e.isApiFlowDone=n.isApiFlowDone,e.cmstoken=n.cmsData.token[0],e.currStep=n.currStep,n.testdata?e.testdata=n.testdata:e.table&&(e.testdata=JSON.parse(e.table)),e.cmscommon=n.cmsData.common[0],e.oauth=n.cmsData.headline[0].oauth,e.changeFlow=n.cmsData.changeflow,e.cmsglobaldata=n.cmsGlobalData,e.clientid=n.clientId,e.clientsecret=n.clientSecret,e.gwhost=n.gwHost,e.apihost=n.apiHost,e.authcode=n.authCode,e.redirecturi=n.redirectUri,e.isApiReqSent=n.isApiReqSent,e.accessToken=n.accessToken,e.applicationId=n.applicationId,n.isReqSent||n.isCallApiReqSent||n.isTokenReqSent||(e.isReqSent=""),e.selectedElement=n.selectedElement,e.apihost=n.apiHost,"CallApi"==e.currStep&&e.api){for(var r=e.api.requrl.length;r--;)"directive"===e.api.requrl[r].type?e.isDropDown=!0:e.accessToken&&(e.api.requrl[r].value=e.api.requrl[r].value.replace("{{access_token}}",e.accessToken).replace("{{api_host}}",e.apihost));var o,i="";for(var o in e.api.requrl)if("url"==e.api.requrl[o].type)i+=e.api.requrl[o].value;else{var s=n.selectedElement,l=s[e.api.requrl[o].name];i+=l}if(e.curlcopy=i.replace("{{gwhost}}",e.gwhost).replace("{{redirecturi}}",e.redirecturi).replace("{{clientid}}",e.clientid).replace("{{clientsecret}}",e.clientsecret).replace("{{authcode}}",e.authcode).replace("{{apihost}}",e.apihost),e.responseParse=n.responseParse,e.responseParse){e.responseParseKeys=Object.keys(e.responseParse);for(var r=0;r<e.responseParseKeys.length;r++){tempString="{{"+e.responseParseKeys[r]+"}}";var c=new RegExp(tempString,"g");e.curlcopy=e.curlcopy.replace(c,e.responseParse[e.responseParseKeys[r]])}}}else if("AccessToken"==e.currStep&&e.api){var o,i="";for(var o in e.api.requrl)if("url"==e.api.requrl[o].type)i+=e.api.requrl[o].value;else{var s=n.selectedElement,l=s[e.api.requrl[o].name];i+=l}e.curlcopy=i.replace("{{gwhost}}",e.gwhost).replace("{{redirecturi}}",e.redirecturi).replace("{{clientid}}",e.clientid).replace("{{clientsecret}}",e.clientsecret).replace("{{authcode}}",e.authcode).replace("{{apihost}}",e.apihost)}dataTemp=a.split(","),"resetApi"==dataTemp[0]&&dataTemp[1]==e.api.showkey&&e.api.reset&&(v.resetApis(e.api.reset,e.api.showkey),e.$emit("stateChangedEmit","stateResetApis"))}),e.loading={response:!1,failures:!1},e.selectResp=function(t){e.selectedTabResp=t,"respBody"===t&&(e.respText=e.respBody),"respHeaders"===t&&(e.respText=e.respHeaders),"reqHeaders"===t&&(e.respText=e.reqHeaders),"reqBody"===t&&(e.respText=e.reqBody)},e.scrollTo=function(e){t&&a.scrollTop(t.getElementOffset(document.querySelector(e)).top,700)},e.scrollDelay=function(t,a){n(function(){a&&e.scrollTo(a)},t)},e.sendRequest=function(t){"AccessToken"==e.currStep?e.sendRequestToken():"CallApi"==e.currStep&&e.sendRequestAPI()},e.sendRequestAPI=function(){e.loading.response=!0,e.method=e.api.method;var t=e.api.url;if(e.url=t,t){e.callApiUrl=t.replace("{{apihost}}",e.apihost);for(var a=new Object,n=0;n<e.api.headers.length;n++){var r=e.api.headers[n];"Authorization"==r.key&&(r.value=r.value.replace("{{access_token}}",e.accessToken)),"OAuthClientId"==r.key&&(r.value=r.value.replace("{{client_id}}",e.clientid)),a[r.key]=r.value}e.reqHeaders=a,e.api.body&&(e.reqBody=JSON.parse(e.api.body)),m.postApi(e.callApiUrl,e.reqBody,e.reqHeaders,e.method).then(function(t){e.theResponse=t;var a,n=t.data;if(e.isTabApiFlowDone="",e.api.responseparse)for(var r=Object.keys(e.api.responseparse),o=!1,i=[],s=0;s<r.length;s++){var a=angular.copy(n);e.locationTemp=e.api.responseparse[r[s]]+"",e.locationTempList=e.locationTemp.split(",");for(var l=0;l<e.locationTempList.length;l++)if("[]"==e.locationTempList[l])o=!0;else if(o){for(var c=0;c<a.length;c++)e.locationTempList[l+1]?i.push(encodeURIComponent(a[c][e.locationTempList[l]])):i.push(a[c][e.locationTempList[l]]);o=!1}else a=a[e.locationTempList[l]];i.length>0?v.pushResponseParse(r[s],i):v.pushResponseParse(r[s],a)}if(e.api.changeflow)for(var u,s=0;s<e.changeFlow.length;s++)u=e.changeFlow[s].selectedvalue,u.indexOf(e.selectedElement.OAOTaxId)!==-1?v.setShowRequest(e.changeFlow[s].apiflow[0].showkey):e.api.finalapi&&(e.isApiFlowDone=!0,e.isTabApiFlowDone=!0);else e.api.finalapi?(e.isApiFlowDone=!0,e.isTabApiFlowDone=!0):v.setShowRequest(e.api.next);""!=t.data||"false"==t.data?e.respBody=t.data:e.respBody=e.cmscommon.nocontent,e.respText=e.respBody,e.respHeaders=t.headers(),t.status&&(e.respHeaders.status=t.status),e.selectedTabResp="respBody",e.isReqSent=!0,e.isApiReqSent[e.countcallapi]=!0,e.isApiReqSent[e.showKey]=!0,e.message=!1,e.callapiMessage=e.api.successmessage,e.nextStep=e.cmsglobaldata.buttons[0].getAccess,e.scrollDelay(200,"#_response"+e.api.showkey),v.setIsApiReqSent(e.countcallapi),v.setCallApiEnabled(e.countcallapi),v.setIsTabApiFlowDone(e.isTabApiFlowDone),v.setIsApiFlowDone(e.isApiFlowDone),v.setIsCallApiReqSent(!0),v.setCallApiMessage(e.callapiMessage),v.setCallApiNextStep(e.nextStep),e.$emit("stateChangedEmit","callApi"),e.loading.response=!1},function(t){e.isTabApiFlowDone="",e.isReqSent=!0,e.isRewardsDetails=!1,e.respBody=t.data,e.respText=t.data,e.respHeaders=t.headers(),t.status&&(e.respHeaders.status=t.status),e.selectedTabResp="respBody",e.isApiReqSent[e.countcallapi]=!0,e.isApiReqSent[e.showKey]=!0,e.callapiMessage=e.api.successmessage,e.nextStep=e.cmsglobaldata.buttons[0].getAccess,e.loading.response=!1,e.api.finalapi?(e.isApiFlowDone=!0,e.isTabApiFlowDone=!0):t.status==e.api.errordone&&(e.isApiFlowDone=!0,e.isTabApiFlowDone=!0),v.setIsApiReqSent(e.countcallapi),v.setIsTabApiFlowDone(e.isTabApiFlowDone),v.setIsApiFlowDone(e.isApiFlowDone),v.setIsCallApiReqSent(e.isReqSent),v.setCallApiMessage(e.callapiMessage),v.setCallApiNextStep(e.nextStep),e.$emit("stateChangedEmit","getApiResponse2leg"),e.scrollDelay(200,"#_response"+e.api.showkey)}),u.trackButton("Playground callapi request")}else if(e.api.changeflow){var o;e.isApiReqSent[e.countcallapi]=!0,e.isApiReqSent[e.showKey]=!0;for(var n=0;n<e.changeFlow.length;n++)o=e.changeFlow[n].selectedvalue,o.indexOf(e.selectedElement.OffersFlow)!==-1&&v.setShowRequest(e.changeFlow[n].apiflow[0].showkey)}},e.sendRequestToken=function(){var t,a='{"Content-Type": "application/x-www-form-urlencoded"}';e.url=!0,"2legged"==e.oauth?t='{"client_id":"'+e.clientid+'", "client_secret":"'+e.clientsecret+'", "grant_type":"client_credentials"}':"3legged"==e.oauth&&(t='{ "code":"'+e.authcode+'", "client_id":"'+e.clientid+'", "client_secret":"'+e.clientsecret+'", "grant_type":"authorization_code", "redirect_uri":"'+e.redirecturi+'"}'),e.tokenReqHeaders=JSON.parse(a),e.tokenReqBody=JSON.parse(t),e.reqHeaders=JSON.parse(a),e.reqBody=JSON.parse(t),m.getAccessTokenNew(e.authcode,e.clientid,e.clientsecret,e.redirecturi,e.gwhost).then(function(t){e.theResponse=t,e.accessTokenHelper(t,!0)},function(t){e.accessTokenHelper(t,!1)}),u.trackButton("Playground token request")},e.accessTokenHelper=function(t,a){e.respText="",e.respBody="",a?(e.loading.failures=!1,e.accessToken=t.data.access_token,e.tokenMessage=e.cmsglobaldata.success[0].tokenMsg,e.nextStep=e.cmsglobaldata.buttons[0].callapi,e.api.finalapi&&(e.isApiFlowDone=!0,e.isTabApiFlowDone=!0,e.nextStep=e.cmsglobaldata.buttons[0].getAccess,e.callapiMessage=e.api.successmessage,v.setIsTabApiFlowDone(e.isTabApiFlowDone),v.setIsApiFlowDone(e.isApiFlowDone),v.setCallApiNextStep(e.nextStep),v.setCallApiMessage(e.callapiMessage))):(e.loading.failures=!0,e.accessToken=null,e.tokenMessage=null,e.nextStep=null),e.loading.response=!1,e.respBody=t.data,e.respText=e.respBody,e.respHeaders=t.headers(),e.selectedTabResp="respBody",e.isReqSent=!0,e.isApiReqSent[0]=!0,e.isApiReqSent[e.showKey]=!0,e.isTokenValid=a,v.setTokenMessage(e.tokenMessage),v.setTokenNextStep(e.nextStep),v.setAccessToken(e.accessToken),v.setIsTokenReqSent(e.isReqSent),v.setIsTokenValid(e.isTokenValid),e.$emit("stateChangedEmit","tokenSendRequest"),e.scrollDelay(50,"#_response"+e.api.showkey)}}]}}]),angular.module("portal-product-runtest").directive("productRuntestCallapiTab",[function(){return{restrict:"EA",templateUrl:"views/product-runtest-callapi-tab.html",scope:{slug:"="},replace:!0,controller:["$scope","$state","UtilityDocumentService","$document","$timeout","$attrs","$window","$anchorScroll","ProductsService","RouteUtilityService","$location","SiteCatalystService","PageTitleService","ProductTestingService","ProductRuntestService","UserService","AppsService","StatusCodesService","ProductRuntestStateService",function(e,t,a,n,r,o,i,s,l,c,u,d,p,m,g,f,h,v,S){e.rsp2Text="";var y=S.getState();e.countCallApi=y.countCallApi,e.callApiEnabled=[],e.countCms=0,e.$on("stateChangedBroadcast",function(t,a){var n=S.getState();if(e.gwhost=n.gwHost,e.authcode=n.authCode,e.redirecturi=n.redirectUri,e.accessToken=n.accessToken,e.apihost=n.apiHost,e.cmscallapi1=n.cmsData.callapi1,dataTemp=a.split(","),n.cmsData&&e.accessToken&&e.countCms<1||"selectedElement"==dataTemp[0]||"callApi"==a){e.countCms=1,e.apiList=[],e.responseParse=[];for(var r=0;r<n.cmsData.callapi1.length;r++)e.apiList.push(n.cmsData.callapi1[r]);if(n.cmsData.changeflow)for(var r=0;r<n.cmsData.changeflow.length;r++)for(var o=0;o<n.cmsData.changeflow[r].apiflow.length;o++)e.apiList.push(n.cmsData.changeflow[r].apiflow[o]);e.temp=JSON.stringify(e.apiList),tempString="{{access_token}}";var i=new RegExp(tempString,"g");e.temp=e.temp.replace(i,e.accessToken),tempString="{{api_host}}";var i=new RegExp(tempString,"g");e.temp=e.temp.replace(i,e.apihost),e.apiList=JSON.parse(e.temp)}if(e.selectedElement=n.selectedElement,e.apiList&&e.selectedElement&&("selectedElement"==dataTemp[0]||"callApi"==a)){e.selectedElementKeys=Object.keys(e.selectedElement),e.temp=JSON.stringify(e.apiList);for(var r=0;r<e.selectedElementKeys.length;r++){tempString="{{"+e.selectedElementKeys[r]+"}}";var i=new RegExp(tempString,"g");e.temp=e.temp.replace(i,e.selectedElement[e.selectedElementKeys[r]])}if(e.responseParse=n.responseParse,e.responseParse){e.responseParseKeys=Object.keys(e.responseParse);for(var r=0;r<e.responseParseKeys.length;r++)if(tempString="{{"+e.responseParseKeys[r]+"}}",Array.isArray(e.responseParse[e.responseParseKeys[r]])){tempString='"{{'+e.responseParseKeys[r]+'}}"';var i=new RegExp(tempString,"g");e.temp=e.temp.replace(i,JSON.stringify(e.responseParse[e.responseParseKeys[r]]))}else{var i=new RegExp(tempString,"g");e.temp=e.temp.replace(i,e.responseParse[e.responseParseKeys[r]])}e.apiList=JSON.parse(e.temp)}}e.cmsglobaldata=n.cmsGlobalData,e.cmscommon=n.cmsData.common[0],e.apihost=n.apiHost,e.accesstoken=n.accessToken,e.testdata=n.testData,e.isCallApiReqSent=n.isCallApiReqSent,e.oauth=n.cmsData.headline[0].oauth,e.countCallApi=n.countCallApi,e.callApiEnabled=n.callApiEnabled,e.showRequest=n.showRequest}),e.getAccessClicked=function(){d.trackButton("request access")}}]}}]),angular.module("portal-product-runtest").directive("productRuntestThreeLeggedOauth",[function(){return{restrict:"EA",templateUrl:"views/product-runtest-three-legged-oauth.html",scope:{slug:"=",hero:"="},replace:!0,controller:["$scope","UtilityDocumentService","$document","$timeout","$state","$window","$anchorScroll","ProductsService","RouteUtilityService","$location","SiteCatalystService","PageTitleService","ProductTestingService","ProductRuntestService","UserService","AppsService","StatusCodesService","ProductRuntestStateService",function(e,t,a,n,r,o,i,s,l,c,u,d,p,m,g,f,h,v){e.callApiExist=!0,e.$on("stateChangedBroadcast",function(t,a){var n=v.getState();e.currStep=n.currStep,e.isStep3Enabled=n.isStep3Enabled,e.isStep2Enabled=n.isStep2Enabled,e.isAuthReqSent=n.isAuthReqSent,e.isCallApiReqSent=n.isCallApiReqSent,e.endFlow=n.isEndFlow,e.cmsglobaldata=n.cmsGlobalData,e.authMessage=n.authMessage,e.demoAppEnv=n.demoAppEnv,e.istokenreqsent=n.isTokenReqSent,e.isApiFlowDone=n.isApiFlowDone,e.isTabApiFlowDone=n.isTabApiFlowDone,e.isTokenValid=n.isTokenValid,n.cmsData&&(n.cmsData.callapi1[0].callApiNotExist?(e.callApiExist=!1,v.setCallApiExist(!1)):(e.callApiExist=!0,v.setCallApiExist(!0))),e.cmsglobaldata&&n.isAuthReqSent&&n.hasIdbRedirected?(e.authMessage=e.cmsglobaldata.success[0].authMsg,e.authNextStep=e.cmsglobaldata.buttons[0].getToken,v.setAuthMessage(e.authMessage),v.setAuthNextStep(e.authNextStep),v.setHasIdbRedirected(""),e.$emit("stateChangedEmit","Idb Redirected")):"tabScroll"!=a||e.authMessage||scrollDelay(0,"#_select_tab"),e.selApp=n.selApp,e.selApp||e.demoAppEnv&&(e.selApp=e.demoAppEnv.clientId,v.setSelApp(e.selApp),e.$emit("stateChangedEmit","setSel"))}),e.scrollTo=function(e){a.scrollTop(t.getElementOffset(document.querySelector(e)).top,700)},scrollDelay=function(t,a){n(function(){e.scrollTo(a)},t)},e.selectTab=function(t){e.callapiMessage="",e.currStep=t,e.isApiFlowDone="",v.setIsApiFlowDone(e.isApiFlowDone),v.setCallApiMessage(e.callapiMessage),v.setCurrStep(e.currStep),e.$emit("stateChangedEmit","selectTab: "+t)},function(){v.reset(),e.slug=r.params.slug,e.apps=[],e.currStep="Authorization",e.isStep1Enabled=!0;var t=c.absUrl(),a=t.lastIndexOf("code=");if(a<=0)e.isAuthReqSent=!1;else{e.isAuthReqSent=!0;var n=t.lastIndexOf("&state="),o=t.indexOf("#");if(o<=0)var i=t.substring(n+7);else var i=t.substring(n+7,o);i=decodeURIComponent(i);var s=window.atob(i),l=s.indexOf(",");e.slug=s.substring(0,l),e.selApp=s.substring(l+1),v.setSelApp(e.selApp),e.authCode=t.substring(a+5,n),e.respBody=!0,e.selectedTabResp="RespBody",e.authRespText="Authorization Code is : "+e.authCode,v.setRespBody(e.respBody),v.setSelectedTabResp(e.selectedTabResp),v.setAuthRespText(e.authRespText),v.setHasIdbRedirected(!0)}v.setAuthCode(e.authCode),v.setCurrStep(e.currStep),v.setIsStep1Enabled(e.isStep1Enabled),v.setIsAuthReqSent(e.isAuthReqSent),e.$emit("stateChangedEmit","tabScroll")}()}]}}]),angular.module("portal-product-runtest").directive("productRuntestTwoLeggedOauth",[function(){return{restrict:"EA",templateUrl:"views/product-runtest-two-legged-oauth.html",scope:{slug:"=",hero:"="},replace:!0,controller:["$scope","UtilityDocumentService","$document","$timeout","$state","$window","$anchorScroll","ProductsService","RouteUtilityService","$location","SiteCatalystService","PageTitleService","ProductTestingService","ProductRuntestService","UserService","AppsService","StatusCodesService","ProductRuntestStateService",function(e,t,a,n,r,o,i,s,l,c,u,d,p,m,g,f,h,v){e.$on("stateChangedBroadcast",function(t,a){var n=v.getState();e.currstep=n.currStep,e.isStep3Enabled=n.isStep3Enabled,e.isCallApiReqSent=n.isCallApiReqSent,e.cmsglobaldata=n.cmsGlobalData,e.demoAppEnv=n.demoAppEnv,e.istokenreqsent=n.isTokenReqSent,e.isTabApiFlowDone=n.isTabApiFlowDone,e.isTokenValid=n.isTokenValid,"tabScroll"==a&&e.scrollDelay(0,"#_select_tab"),e.selApp||e.demoAppEnv&&(e.selApp=e.demoAppEnv.clientId,v.setSelApp(e.selApp),e.$emit("stateChangedEmit","setSel"))}),e.selectTab=function(t){e.callapiMessage="",e.currStep=t,e.isApiFlowDone="",v.setIsApiFlowDone(e.isApiFlowDone),v.setCallApiMessage(e.callapiMessage),v.setCurrStep(e.currStep),e.$emit("stateChangedEmit","selectTab: "+t)},e.scrollTo=function(e){a.scrollTop(t.getElementOffset(document.querySelector(e)).top,700)},e.scrollDelay=function(t,a){n(function(){e.scrollTo(a)},t)},function(){e.slug=r.params.slug,e.apps=[],e.currstep="AccessToken",e.isstep2enabled=!0,e.istokenreqsent=!1,v.setCurrStep(e.currstep),v.setIsStep2Enabled(e.isstep2enabled),v.setIsTokenReqSent(e.istokenreqsent),e.$emit("stateChangedEmit","AccessToken tab initialized")}()}]}}]),angular.module("portal-about").controller("AboutController",["$scope","$state","AboutService","$location","SiteCatalystService",function(e,t,a,n,r){e.loading=!0,e.init=function(){r.trackPage("about"),a.getAboutContent().then(function(a){a.article?(e.loading=!1,e.hero=a.article.about["default"][0],e.content=a.article.about.infoLight):t.go("error",{type:"content-error"})},function(){t.go("error",{type:"content-error"})}),e.breadcrumbs=[{state:"home",stateParams:{},name:"Home"},{state:"about",stateParams:{},name:"About"}]},e.init()}]),angular.module("access-product").controller("AccessProductController",["$scope","$state","$timeout","close","UserService","AppsService","PermissionsService","StatusCodesService","SiteCatalystService",function(e,t,a,n,r,o,i,s,l){e.loading=!1,e.connecting=!1,e.connected=!1,e.apps={selected:null,list:null},e.user=null,e.connectSelectedApp=function(){e.connecting||(l.trackButton("new app connect"),e.connecting=!0,o.connectProduct(e.apps.selected.details.appId,e.productId,"SANDBOX").then(function(t){e.connecting=!1,o.clearCachedApps(),t.status==s.success?(e.connected=!0,l.trackButton("app connect success")):(e.connecting=!1,t.data.type==s.errorResponse?e.errors=t.data.text:e.errors="A problem occurred while connecting your app to this product.")},function(t){e.connecting=!1,t.data.type==s.errorResponse?e.errors=t.data.text:e.errors="A problem occurred while connecting your app to this product."}))},e.getAppListDetails=function(){e.loadingCount=e.apps.list.length;for(var t=0;t<e.apps.list.length;t++)e.getAppDetails(t)},e.getAppDetails=function(t){o.getAppDetails(e.apps.list[t].appId,e.user.email).then(function(a){var n={environment:"SANDBOX"};e.apps.list[t].details=a,o.getConnectedProducts(e.apps.list[t],n).then(function(a){e.apps.list[t].connectedProducts=n.connectedProducts,e.checkLoadingCount()})},function(a){e.apps.list[t].failed=!0,e.checkLoadingCount()})},e.checkLoadingCount=function(){e.loadingCount--,e.loadingCount<=0&&(e.loading=!1,e.refineAppList())},e.refineAppList=function(){for(var t=e.apps.list.length,a=0;a<t;a++)if(e.apps.list[a].failed)e.apps.list.splice(a,1),a--,t--;else{for(var n=i.checkPermission(e.apps.list[a].details.auth,i.ACTIONS.SANDBOX.CREATE_CONTRACT),r=!1,o=0;o<e.apps.list[a].connectedProducts.length;o++)if(e.apps.list[a].connectedProducts[o].apiId==e.productId){r=!0;break}n&&!r||(e.apps.list.splice(a,1),a--,t--)}e.apps.list.length&&(e.apps.selected=e.apps.list[0])},e.goToConnectedApp=function(){t.go("app-details",{appId:e.apps.selected.appId})},e.gotoSignInWithRedirect=function(){var e=t.params;e.accessProduct=!0,t.go("sign-in",{postRoute:t.current.name,postRouteParams:e})},e.restart=function(){e.loading=!1,e.connecting=!1,e.connected=!1,e.errors=null},e.cancel=e.close=function(e){n(200)},e.init=function(){var t=r.getUser();t?t.then(function(t){e.user=t,e.user.id?(e.loading=!0,o.getApps(!0).then(function(t){e.apps.list=t,e.apps.list.length?e.getAppListDetails():e.loading=!1},function(){e.loading=!1,e.errors="A problem occurred loading your apps."})):(e.user=null,e.loading=!1)},function(){e.user=null,e.loading=!1}):e.loading=!1},e.init()}]),angular.module("portal-account").controller("AccountController",["$scope","$state","UserService","AppsService","StatusCodesService","$location","SiteCatalystService",function(e,t,a,n,r,o,i){function s(){for(var t=0;t<e.apps.length;t++){var a=e.apps[t];n.getAppIcon(a)}}i.trackPage("my apps"),e.breadcrumbs=[{state:"home",stateParams:{},name:"Home"},{state:"account",stateParams:{},name:"Account Dashboard"}],e.loadingApps=!0,e.appsFailure=!1,e.apps=[],e.appTypes=n.TYPES,e.createAppDashboard=function(){i.trackLink("create new app")},function(){var o=a.getUser();o.then(function(t){e.user=t,n.getApps().then(function(t){t.type!=r.errorResponse&&Array.isArray(t)?(e.apps=t,e.loadingApps=!1,e.appsFailure=!1,s()):(e.loadingApps=!1,e.appsFailure=!0,e.errorMessage=t.developerText)},function(t){e.appsFailure=!0,e.loadingApps=!1,t.type==r.errorResponse?e.errorMessage=t.text:e.errorMessage="Something went wrong!"})},function(e){t.go("sign-in")})}()}]),angular.module("portal-apps").controller("AppDetailsController",["$scope","$rootScope","$state","$stateParams","$q","AppsService","ProductsService","PermissionsService","StatusCodesService","UserService","FileUploader","$location","SiteCatalystService","CoreEventsService",function(e,t,a,n,r,o,s,l,c,u,d,p,m,g){function f(t,a){var n=!1;return e.app&&(n=v(e.app.auth,t,a)),n}function h(){e.possibleRoles=l.getSubbordinateRoles(e.app.auth),e.possibleRoles.length&&(e.newMember.role=e.possibleRoles[0])}m.trackPage("app details"),function(){n.appId||a.go("account")}(),e.breadcrumbs=[{state:"home",stateParams:{},name:"Home"},{state:"app-details",stateParams:{},name:"App Details"}],e.actions={editApp:!1},e.loading={appUpdates:!1},e.failures={editApp:!1},e.editAppErrors=[],e.addMember=!1,e.addingTeamMember=!1,e.appDelete=!1,e.appDeleting=!1,e.appDeleted=!1,e.updatingTeamMembers=!1,e.loadingTeamMembers=!0,e.appFailure=!1,e.teamMembersFailure=!1,e.teamMemberExists=!1,e.teamMemberInvalidEmail=!1,e.deleteAppFailure=!1,e.user=null,e.app=null,e.appId=n.appId,e.currentVersion=null,e.selectedTab="",e.appUpdates={name:"",description:"",icon:{base64:"",filetype:"image/png"}},e.possibleRoles=[],e.newMember={role:e.possibleRoles[0],email:""},e.TYPES=o.TYPES;var v=l.checkPermission,S=l.ACTIONS;l.ROLES;e.selectTab=function(a){e.currentVersion=e.app.versions[a],t.$emit("tabSelected",a)},e.editAppIconChoice=function(){var t="";return t=e.appUpdates.icon.base64?"data:"+e.appUpdates.icon.filetype+";base64,"+e.appUpdates.icon.base64:e.app&&e.app.image?"data:image/png;base64,"+e.app.image:"images/icon-computers2.png"},e.updateAppDetails=function(){var t=e.appUpdates.name,a=e.appUpdates.description,n=e.appUpdates.icon.base64||"",r="App Name is required";if(t){var i=e.editAppErrors.indexOf(r);i>=0&&e.editAppErrors.splice(i,1)}else e.editAppErrors.push(r);e.loading.appUpdates||e.editAppErrors.length||(e.loading.appUpdates=!0,o.editApp(e.app,null,t,a,n).then(function(t){e.loading.appUpdates=!1,e.actions.editApp=!1,e.failures.editApp=!1,e.appUpdates.name=e.app.name.substr(0,e.app.name.length),e.appUpdates.description=e.app.description.substr(0,e.app.description.length)},function(t){e.loading.appUpdates=!1,e.failures.editApp=!0}))},e.getTeamMembers=function(){o.getAppTeamMembers(e.app.appId).then(function(t){for(e.teamMembersFailure=!1,e.loadingTeamMembers=!1,e.app.teamMembers=t.data,i=0;i<e.app.teamMembers.length;i++)e.app.teamMembers[i].edit=!1,e.app.teamMembers[i].updating=!1,e.app.teamMembers[i].remove=!1,e.app.teamMembers[i].removing=!1,e.app.teamMembers[i].newRole=e.app.teamMembers[i].role},function(t){e.loadingTeamMembers=!1,e.teamMembersFailure=!0})},e.addTeamMember=function(){e.teamMemberExists=!1,e.teamMemberInvalidEmail=!1;for(var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,a=e.newMember.email.toLowerCase(),n=e.app.teamMembers,r=0;r<n.length;r++)if(a===n[r].email.toLowerCase()){e.teamMemberExists=!0;break}t.test(a)||(e.teamMemberInvalidEmail=!0),e.teamMemberExists||e.teamMemberInvalidEmail||(e.addingTeamMember=!0,o.addTeamMember(e.app,e.newMember.email,e.newMember.role).then(function(t){e.app.teamMembers.push(t.data.teamMember),e.addMember=!1,e.newMember.email="",e.addingTeamMember=!1},function(t){t.type==c.errorResponse?e.addTeamMemberError=t.developerText:e.addTeamMemberError="Something went wrong!",e.addingTeamMember=!1}))},e.updateTeamMember=function(t){var a=e.app.teamMembers[t];a.updating=!0,o.updateTeamMember(e.app,a.email,a.newRole).then(function(e){200!=e.status&&201!=e.status||(a.edit=!1,a.role=e.data.teamMember.role),a.updating=!1})["catch"](function(e){})},e.removeTeamMember=function(t){var a=e.app.teamMembers[t];a.removing=!0,o.removeTeamMember(e.app,a.email).then(function(n){a.removing=!1,200==n.status&&(a.remove=!1,e.app.teamMembers.splice(t,1))})},e.deleteApp=function(){e.appDeleting=!0,o.deleteApp(e.app,e.user.email).then(function(n){e.appDeleting=!1,e.appDeleted=!0,setTimeout(function(){a.go("account"),t.$broadcast(g.productInventoryRefresh.name)},2e3)},function(t){e.appDeleting=!1,e.deleteAppFailure=!0})},e.canEditApp=function(){return!e.actions.editApp&&f(S.EDIT_APP)},e.canAddTeamMember=function(){return f(S.ADD_TEAM_MEMBER)},e.canEditTeamMember=function(t){
	return!t.remove&&!t.edit&&t.email!==e.user.email&&f(S.EDIT_TEAM_MEMBER,t.role)},e.canDeleteApp=function(){return f(S.DELETE_APP)},e.canViewVersion=function(e){return f(S[e].VIEW)},e.imageLoad=function(t){var a="Icon must be under 50kb in size.";if(t.total>5e4)e.editAppErrors.push(a);else{var n=e.editAppErrors.indexOf(a);n>=0&&e.editAppErrors.splice(n,1)}},e.tabKeyPress=function(t){38!=t.keyCode&&39!=t.keyCode&&40!=t.keyCode&&37!=t.keyCode||e.toggleSelectedTab()},function(){var t=u.getUser(!0);t.then(function(t){e.user=t,o.getAppDetails(n.appId).then(function(t){e.app=t,e.currentVersion=e.app.versions.IT||e.app.versions.SANDBOX,e.appUpdates.name=e.app.name.substr(0,e.app.name.length),e.appUpdates.description=e.app.description.substr(0,e.app.description.length),e.getTeamMembers(),h()},function(e){403!==e.status&&a.go("error",{type:"content-error"})})},function(e){a.go("sign-in")})}()}]),angular.module("portal-apps").controller("AppProductMetricsController",["$scope","$state","$filter","UserService","AppsService","ProductsService","UptimeService","SiteCatalystService",function(e,t,a,n,r,o,i,s){s.trackPage("app details","view metrics"),e.errors=null,e.clientId=t.params.clientId,e.apiName=t.params.apiName,e.environment=t.params.environment,e.config={tooltips:!0,labels:!1,legend:{display:!1,position:"right"},colors:["#66c5e6"]},e.activeTab=0,e.loading=!1,e.uptimeLoading=!1,e.monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.noMetrics=!1,e.charts={uptime:{name:"Uptime",overview:"",chartData:{data:[]}},performance:{name:"Performance",overview:"",chartData:{data:[]}},throughput:{name:"Total",overview:"",chartData:{data:[]}},successes:{name:"Successes",overview:"",chartData:{data:[]}},faults:{name:"Faults",overview:"",chartData:{data:[]}}},e.getDetails=function(){e.getUserPromise=n.getUser(),e.getUserPromise?e.getUserPromise.then(function(a){e.user=a,r.getAppDetails(t.params.appId).then(function(a){e.app=a,e.appVersion=a.versions[t.params.environment],e.populateGraphs(0)},function(t){e.errors=["Something went wrong!"]})},function(e){t.go("sign-in")}):t.go("sign-in")},e.activateTab=function(t){e.activeTab=t,e.populateGraphs(t)},e.isActive=function(t){return t==e.activeTab},e.populateGraphs=function(t){e.noMetrics=!1,e.loading=!0;var a,n,o="Loading ",i=new Date,s=new Date,l="month";switch(t){case 0:a="1h",n="-24h",s.setHours(s.getHours()-23),l="day";break;case 1:a="1d",n="-7d",s.setHours(s.getHours()-168),l="month";break;case 2:a="1d",n="-1M",s.setMonth(s.getMonth()-1),l="month"}r.getAppMetrics(e.clientId,e.environment,e.apiName,n,a).then(function(a){e.charts.performance.overview=o+"performance metrics...",e.charts.throughput.overview=o+"throughput metrics...",e.charts.successes.overview=o+"success metrics...",e.charts.faults.overview=o+"fault metrics...",e.loading=!1,a.data&&e.formatAnalyticsDataForGraph(a.data,t)}),e.getUptime(t,l,s,i)},e.getUptime=function(n,r,s,l){o.getProducts().then(function(o){var c=o,u=null;if(c){var d=e.apiName;if("IT"!==e.environment){for(var p=0;p<o.length;p++)if(c[p].metadata["md:ent_contentkey"]==t.params.apiId){u=c[p],d=e.apiDisplayName=u["default"][0].headline;break}if(!u&&!d)return void(e.uptimeLoading=!1);!u&&d&&(d+=" (Deprecated)",e.apiDisplayName=d),e.product=u}else e.apiDisplayName=d;e.uptimeLoading=!0;var m=a("scrub_html")(d),g=m.split(" ").join("_").toLowerCase().replace("(","").replace(")","");g+="production"==e.environment.toLowerCase()?"_production":"_preproduction";var f=new Date(s.getTime()),h=new Date(l.getTime());1!=n&&2!=n||(f.setHours(f.getHours()-24),h.setHours(h.getHours()-24)),i.getUptime(g,r).then(function(t){e.uptimeLoading=!1,e.formatUptimeDataForGraph(t.data,n,s,l)})}else e.uptimeLoading=!1},function(e){})},e.formatUptimeDataForGraph=function(t,a,n,r){if(t){e.charts.uptime.chartData.data=[],e.charts.uptime.overview="";var o,i,s,l,c,u,d=0,p=t.length,m=0;if(0===a){m=24;for(var o=0;o<m;o++){var g=new Date(n.getTime());g.setHours(g.getHours()+1),g=g.getHours()%12||12;var f=n.getHours()%12||12,h=n.getHours()<12?"AM":"PM",v=n.getHours()<12?"":" ";for(p=t.length,c=0,i=0;i<p;i++)if(l=t[i],u=new Date(l.timestamp),u.getHours()==n.getHours()&&u.getDay()==n.getDay()){c=parseFloat(l.availability),d+=c;break}s=e.monthNames[n.getMonth()]+" "+n.getDate()+" "+f+"-"+g+" "+h+"<br />",e.charts.uptime.chartData.data.push({x:f+v,y:[c],tooltip:s+c+"%"}),n.setHours(n.getHours()+1)}}else if(1==a||2==a){var S=864e5,y=Math.round(Math.abs((r.getTime()-n.getTime())/S));for(m=y,o=0;o<y;o++){var b=n.getUTCMonth()+1+"/"+n.getUTCDate();for(c=0,i=0;i<p;i++)l=t[i],u=new Date(l.timestamp),u.getUTCDate()==n.getUTCDate()&&u.getUTCMonth()==n.getUTCMonth()&&(c=parseFloat(l.availability),d+=c);s=e.monthNames[n.getUTCMonth()]+" "+n.getUTCDate()+"<br />",e.charts.uptime.chartData.data.push({x:b,y:[c],tooltip:s+c+"%"}),n.setHours(n.getHours()+24)}}e.charts.uptime.overview="Average uptime: "+(d>0?Math.round(d/m*100)/100:0)+"%"}},e.formatAnalyticsDataForGraph=function(t,a){var n=0,r=0,o=0,i=0,s=0,l=0,c=new Date(t.StartTime);c.setHours(c.getHours()+1);var u,d,p=new Date(t.EndTime),m=t.Summary.Metric?t.Summary.Metric.length:0;for(e.charts.performance.overview="Average response time: "+n+"ms | High: "+r+"ms | Low: "+o+"ms",e.charts.performance.chartData.data=[],e.charts.successes.overview="Total requests: "+i,e.charts.successes.chartData.data=[],e.charts.faults.overview="Total successes: "+s,e.charts.faults.chartData.data=[],e.charts.throughput.overview="Total faults: "+l,e.charts.throughput.chartData.data=[],u=0;u<m;u++){var g=t.Summary.Metric[u];"Average"==g.Name?n=g.Value:"MinResponseTime"==g.Name?o=g.Value:"MaxResponseTime"==g.Name?r=g.Value:"TotalCalls"==g.Name?i=g.Value:"SuccessCalls"==g.Name?s=g.Value:"FailedCalls"==g.Name&&(l=g.Value)}var f,h,v,S,y,b,A,w,C,I,T,P,E,D,k,$,R=0,U=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY,_=0,M=0,O=0;if(0===a){var x=24;for(u=0;u<x;u++){var q=new Date(c.getTime());for(q.setHours(q.getHours()+1),q=q.getHours()%12||12,h=c.getHours()%12||12,v=c.getHours()<12?"AM":"PM",S=c.getHours()<12?"":" ",C=t.Interval?t.Interval.length:0,I=0,T=0,P=0,E=0,D=0,k=0,d=0;d<C;d++)if(y=t.Interval[d],A=y.Metric.length,w=new Date(y.StartTime),w.getHours()==c.getHours()&&w.getDay()==c.getDay())for($=0;$<A;$++)b=y.Metric[$],"Average"==b.Name?(I=b.Value,R+=I):"MinResponseTime"==b.Name?(P=b.Value,P<N&&(N=P)):"MaxResponseTime"==b.Name?(T=b.Value,T>U&&(U=T)):"TotalCalls"==b.Name?(E=b.Value,_+=E):"SuccessCalls"==b.Name?(D=b.Value,M+=D):"FailedCalls"==b.Name&&(k=b.Value,O+=k);f=e.monthNames[c.getUTCMonth()]+" "+c.getUTCDate()+" "+h+"-"+q+" "+v+"<br />",e.charts.performance.chartData.data.push({x:h+S,y:[I],tooltip:f+I+"ms"}),e.charts.throughput.chartData.data.push({x:h+S,y:[E],tooltip:f+E+" requests"}),e.charts.successes.chartData.data.push({x:h+S,y:[D],tooltip:f+D+" successes"}),e.charts.faults.chartData.data.push({x:h+S,y:[k],tooltip:f+k+" faults"}),c.setHours(c.getHours()+1)}}else if(1==a||2==a){var F=864e5,L=Math.round(Math.abs((p.getTime()-c.getTime())/F));for(2==a&&(L+=1),u=0;u<L;u++){C=t.Interval?t.Interval.length:0;var B=c.getUTCMonth()+1+"/"+c.getUTCDate();for(d=0;d<C;d++){if(y=t.Interval[d],A=y.Metric.length,w=new Date(y.StartTime),I=0,T=0,P=0,E=0,D=0,k=0,w.getUTCDate()==c.getUTCDate()&&w.getUTCMonth()==c.getUTCMonth())for($=0;$<A;$++)b=y.Metric[$],"Average"==b.Name?(I=b.Value,R+=I):"MinResponseTime"==b.Name?(P=b.Value,P<N&&(N=P)):"MaxResponseTime"==b.Name?(T=b.Value,T>U&&(U=T)):"TotalCalls"==b.Name?(E=b.Value,_+=E):"SuccessCalls"==b.Name?(D=b.Value,M+=D):"FailedCalls"==b.Name&&(k=b.Value,O+=k);f=e.monthNames[c.getUTCMonth()]+" "+c.getUTCDate()+"<br />",e.charts.performance.chartData.data.push({x:B,y:[I],tooltip:f+I+"ms"}),e.charts.throughput.chartData.data.push({x:B,y:[E],tooltip:f+E+" requests"}),e.charts.successes.chartData.data.push({x:B,y:[D],tooltip:f+D+" successes"}),e.charts.faults.chartData.data.push({x:B,y:[k],tooltip:f+k+" faults"})}c.setHours(c.getHours()+24)}}R=Math.round(R/C),isNaN(R)&&(R=0),U==Number.NEGATIVE_INFINITY&&(U=0),N==Number.POSITIVE_INFINITY&&(N=0),e.charts.performance.overview="Average response time: "+R+"ms | High: "+U+"ms | Low: "+N+"ms",e.charts.throughput.overview="Total requests: "+_,e.charts.successes.overview="Total successes: "+M,e.charts.faults.overview="Total faults: "+O},e.getDetails()}]),angular.module("portal-apps").controller("AppRegistrationController",["$scope","$state","AppsService","UserService","StatusCodesService","$location","SiteCatalystService",function(e,t,a,n,r,o,i){i.trackPage("create app"),e.productId=t.params.productId,e.registering=!1,e.registrationFailure=!1,e.formErrors=[],e.registerForm={types:[{name:"Standard App"},{name:"Co-Development App"}]},e.app={name:"",description:"",partner:!1,selectedType:"",icon:{base64:"",filetype:"image/png"}},e.imageLoad=function(t){var a="Icon must be under 50kb in size.";if(t.total>5e4)e.formErrors.push(a);else{var n=e.formErrors.indexOf(a);n>=0&&e.formErrors.splice(n,1)}},e.appTypeChange=function(){e.app.partner="Co-Development App"==e.app.selectedType.name},e.register=function(){if(!e.registering){e.formErrors=[];var n="App Name is required",r="App Type is required";e.user.eid&&!e.app.selectedType.name?e.formErrors.push(r):e.app.name||e.formErrors.push(n),e.formErrors.length||(e.registering=!0,a.registerApp(e.user.email,e.app.name,e.app.description,e.app.icon.base64,e.app.partner).then(function(n){e.productId?a.connectProduct(n.appId,e.productId,"SANDBOX").then(function(a){e.registering=!1,t.go("app-details",{appId:n.appId})})["catch"](function(){e.registering=!1,t.go("app-details",{appId:n.appId})}):(e.registering=!1,t.go("app-details",{appId:n.appId}))},function(t){e.registrationFailure=!0,e.registering=!1}))}},function(){var a=n.getUser(!0);a.then(function(t){e.user=t},function(e){t.go("sign-in")})}()}]),angular.module("portal-community").controller("BlogPostController",["$scope","$state","$location","$filter","CommunityService","$sce","SiteCatalystService","RouteUtilityService",function(e,t,a,n,r,o,i,s){e.blogId=t.params.blogId,e.loaded=!1,i.trackPage("blog post",e.blogId),e.homeurl="https://"+location.hostname+"/blog-post",e.slugify=function(e){var t=n("scrub_html")(e);return t=n("scrub_html_character_codes")(t),s.slugify(t)},r.getEventsSubset(1,1).then(function(t){e.eventList=t.events}),r.getAllBlog().then(function(a){var o=a;if(o)for(var i=0;i<o.length;i++){var l=n("scrub_html")(o[i]["default"][0].headline);if(l=n("scrub_html_character_codes")(l),l=s.slugify(l),e.blogId==l||e.blogId==o[i].metadata.nameWithoutExtension){e.blogToShow=o[i];var c=[e.blogToShow.metadata["md:ent_relativepath"]];r.getBlogsSubset(3,1,c).then(function(t){e.blogs||(e.blogs=[]),t.posts.length&&(e.blogs=t.posts),e.loaded=!0},function(){t.go("error",{type:"content-error"})})}}else t.go("error",{type:"content-error"})})["catch"](function(){t.go("error",{type:"content-error"})})}]),angular.module("portal-community").controller("BlogsController",["$scope","$state","$stateParams","$location","$filter","CommunityService","$sce","SiteCatalystService","RouteUtilityService",function(e,t,a,n,r,o,i,s,l){e.categoryName=a.categoryName,e.blogList=[],e.offset=4,e.limit=5,e.allLoaded=!1,e.totalBlogPosts=10,e.totalExcluded=0,e.loaded=!1,e.loadingMore=!1,s.trackPage(n.path()),e.slugify=function(e){var t=r("scrub_html")(e);return t=r("scrub_html_character_codes")(t),l.slugify(t)},e.loadMore=function(){e.offset+=e.limit+e.totalExcluded,e.loadingMore=!0,e.getMorePosts(e.limit,e.offset,e.excludedPosts),e.offset+e.limit>=e.totalBlogPosts&&(e.allLoaded=!0)},e.getMorePosts=function(a,n,r){o.getBlogsSubset(a,n,r).then(function(t){e.blogs||(e.blogs=[]),e.loadingMore=!1,t.posts.length?(e.totalExcluded=t.totalExcluded,e.blogs=e.blogs.concat(t.posts)):e.allLoaded=!0,e.offset+e.limit>=e.totalBlogPosts&&(e.allLoaded=!0)},function(){t.go("error",{type:"content-error"})})},o.getEventsSubset(1,1).then(function(t){e.eventList=t.events}),o.getFeaturedBlog().then(function(a){if(a.length){e.featured=a,e.excludedPosts=[];for(var n=0;n<e.featured.length;n++)e.excludedPosts.push(e.featured[n].metadata["md:ent_relativepath"]);o.getTotalBlogPostCount().then(function(t){e.totalBlogPosts=t-e.excludedPosts.length,e.offset+e.limit>=e.totalBlogPosts&&(e.allLoaded=!0)}),o.getBlogsSubset(3,1,e.excludedPosts).then(function(a){a.posts.length?(e.totalExcluded=a.totalExcluded,e.recent=a.posts,e.loaded=!0):t.go("error",{type:"content-error"})},function(){t.go("error",{type:"content-error"})}),e.getMorePosts(e.limit,e.offset,e.excludedPosts)}else t.go("error",{type:"content-error"})},function(){e.loading=!1,t.go("error",{type:"content-error"})})}]),angular.module("portal-community").controller("CommunityController",["$scope","$location","$state","$filter","CommunityService","SiteCatalystService","RouteUtilityService",function(e,t,a,n,r,o,i){o.trackPage("community"),e.slugify=function(e){var t=n("scrub_html")(e);return t=n("scrub_html_character_codes")(t),i.slugify(t)},r.getCommunityDetails().then(function(t){t.article?e.communityDetails=t.article.community:a.go("error",{type:"content-error"})},function(){e.loading=!1,a.go("error",{type:"content-error"})}),r.getFeaturedBlog().then(function(t){if(t.length){e.featured=t,e.excludedPosts=[];for(var n=0;n<e.featured.length;n++)e.excludedPosts.push(e.featured[n].metadata["md:ent_relativepath"]);r.getTotalBlogPostCount().then(function(t){e.totalBlogPosts=t-e.excludedPosts.length,e.offset+e.limit>=e.totalBlogPosts&&(e.allLoaded=!0)}),r.getBlogsSubset(3,1,e.excludedPosts).then(function(t){t.posts.length?(e.totalExcluded=t.totalExcluded,e.recent=t.posts,e.loaded=!0):a.go("error",{type:"content-error"})},function(){a.go("error",{type:"content-error"})})}else a.go("error",{type:"content-error"})},function(){e.loading=!1,a.go("error",{type:"content-error"})}),e.loadingEvents=!0,r.getEventsSubset(4,1).then(function(t){e.loadingEvents=!1,e.eventList=t.events},function(){a.go("error",{type:"content-error"})})}]),angular.module("portal-community").controller("EventController",["$scope","$state","$location","$filter","CommunityService","SiteCatalystService","RouteUtilityService",function(e,t,a,n,r,o,i){e.eventName=t.params.eventName,e.loaded=!1,e.homeurl="https://"+location.hostname+"/event",o.trackPage("event",e.eventName),e.slugify=function(e){var t=n("scrub_html")(e);return t=n("scrub_html_character_codes")(t),i.slugify(t)},r.getAllEvents().then(function(a){if(e.events=a,e.loaded=!0,e.events&&e.events.length)for(var r=0;r<e.events.length;r++){var o=n("scrub_html")(e.events[r]["default"][0].headline);if(o=n("scrub_html_character_codes")(o),o=i.slugify(o),e.eventName==o||e.eventName==e.events[r].metadata.nameWithoutExtension)return e.event=e.events[r],!0}else e.events.length?t.go("error",{type:"content-error"}):t.go("community")},function(){t.go("error",{type:"content-error"})})}]),angular.module("portal-community").controller("EventsController",["$scope","$state","$stateParams","$location","$filter","RouteUtilityService","CommunityService","SiteCatalystService",function(e,t,a,n,r,o,i,s){e.eventList=[],e.totalEvents=null,e.offset=1,e.limit=4,e.loaded=!1,e.homeurl="https://"+location.hostname+"/event",s.trackPage("events"),e.slugify=function(e){var t=r("scrub_html")(e);return t=r("scrub_html_character_codes")(t),o.slugify(t)},e.getFeatured=function(){i.getFeaturedEvent().then(function(t){e.firstEvent=t[0],e.loaded=!0,e.getEventsSet()},function(){t.go("error",{type:"content-error"})})},e.getEventsSet=function(){i.getEventsSubset(e.limit,e.offset).then(function(a){e.eventList=e.eventList.concat(a.events),e.totalEvents||(e.totalEvents=a.totalAvailable?a.totalAvailable:0),e.totalEvents<=0&&!e.firstEvent&&t.go("community");for(var n=0;n<e.eventList.length;n++)if(e.eventList[n]["default"][0].headline==e.firstEvent["default"][0].headline)return e.eventList.splice(n,1),e.totalEvents-=1,e.eventSetComplete(e.limit),void(e.eventList.length<e.totalEvents&&e.getOneMore());e.eventSetComplete(e.limit)},function(){t.go("error",{type:"content-error"})})},e.eventSetComplete=function(t){e.offset+=t,e.loadingMore=!1,e.allLoaded=e.eventList.length>=e.totalEvents},e.getOneMore=function(){e.limit=1,i.getEventsSubset(e.limit,e.offset).then(function(t){e.eventList=e.eventList.concat(t.events),e.limit=4,e.eventSetComplete(1)},function(){t.go("error",{type:"content-error"})})},e.getMore=function(){e.limit=4,e.loadingMore=!0,e.getEventsSet()},e.getFeatured()}]),angular.module("portal-community").controller("OpenSourceController",["$scope","$state","$stateParams","$location","$filter","CommunityService","$sce","SiteCatalystService","RouteUtilityService",function(e,t,a,n,r,o,i,s,l){s.trackPage(n.path()),e.loaded=!1,o.getOpenSource().then(function(t){e.loaded=!0,e.content=t.article["open-source_home"]})}]),angular.module("portal-error").controller("ErrorController",["$rootScope","$location","$scope","$state",function(e,t,a,n){var r="not-found",o="maintenance",i="forbidden";if(a.errortype=n.params.type,a.error={headline:"Sumthin' is busted",subheadline:null,body:"<p>We've all been there right - someone hits your code right in the middle of a hiccup? We're working on it (pinky swear).</p>"},n.params.type==i&&(a.error={headline:"Error 403",subheadline:"Forbidden",body:"<p>Hey, who are you? Did you mean to come here? Sorry, but you really shouln't be here. If you just turn and walk away we'll pretend this never happened.</p>"}),n.params.type==r)a.error={headline:"Error 404",subheadline:"Page not found",body:"<p>Nothing here but a cheeky error message. You know the routine: Tap a link in the header or footer, and keep on truckin'.</p>"};else if(!e.$previousState.name.length&&n.params.lastState){var s=decodeURIComponent(n.params.lastState);t.search({}),t.path(s)}else e.$previousState.name.length&&n.params.lastState!=e.$previousState.url&&n.go("error",{type:a.errortype,lastState:e.$previousState.url},{notify:!1});n.params.type==o&&(a.error={headline:"Maintenance",subheadline:"This page is temporarily down",body:"<p>This page is temporarily down. It's likely being upgraded to be even more awesome than before, and should be back up shortly.</p>"})}]),angular.module("framed-content").controller("FramedContentController",["$scope","$state","$stateParams","$location","$window","$sce",function(e,t,a,n,r,o){e.iframeSrc=null,e.noHeader=null,function(){var r,i;r=document.getElementById("content-frame");var s=a.path;"open-source"!=t.current.name||a.path||(s="open-source"),e.mobileSafari=navigator.userAgent.match(/(iPod|iPhone|iPad)/i),i=t.current.data.frameBaseUrl+s+".html",e.iframeSrc=o.trustAsResourceUrl(i),e.noHeader=n.search().h||t.current.data&&t.current.data.hideHeader}()}]),angular.module("portal-header").controller("HeaderController",["$rootScope","$scope","$state","$document","$window","$timeout","$location","UserService","CoreEventsService","UtilityDocumentService",function(e,t,a,n,r,o,i,s,l,c){t.$state=a,t.user=null,t.hideHeader=!1,t.mobileMenuExpanded="closed",t.mobileMenuIconClass="oui-icon-menu",t.accountMenuExpanded="closed",t.accountMenuIconClass="oui-icon-arrow-down",t.overlayClass="closed",e.$on("$stateChangeStart",function(e,a,n,r,o){t.hideHeader=t.hideNotificationBanner=!0,t.shouldHideHeader()}),e.$on("$stateChangeSuccess",function(e,a,n,r,o){t.hideHeader=t.hideNotificationBanner=!1,t.shouldHideHeader()}),t.shouldHideHeader=function(){(i.search().h||a.current.data&&a.current.data.hideHeader)&&(t.hideHeader=!0),a.current.data&&a.current.data.hideNotificationBanner&&(t.hideNotificationBanner=!0)},t.$on(l.userSignIn.name,function(e,a,n,r,o){var i=s.getUser();i&&i.then(function(e){t.user=e},function(e){user=null})}),t.$on(l.userSignOut.name,function(e,a,n,r,o){t.user=null}),t.signOut=function(){s.signOut().then(function(e){a.go("home")})},t.toggleAccountMenu=function(e){e.stopPropagation(),e.preventDefault(),"open"==t.accountMenuExpanded?t.closeAccountMenu(e):"closed"==t.accountMenuExpanded&&t.openAccountMenu(e)},t.openAccountMenu=function(e){t.accountMenuExpanded="open",t.accountMenuIconClass="oui-icon-arrow-down",t.updateOverlayClass(),n.on("mousedown",t.outsideClickAccountMenu)},t.outsideClickAccountMenu=function(){n.off("mousedown",t.outsideClickAccountMenu),o(t.closeAccountMenu,100),t.$apply()},t.closeAccountMenu=function(){t.accountMenuExpanded="closed",t.accountMenuIconClass="oui-icon-arrow-down",t.updateOverlayClass()},t.toggleMobileMenu=function(){"open"==t.mobileMenuExpanded?t.closeMobileMenu():"closed"==t.mobileMenuExpanded&&t.openMobileMenu()},t.openMobileMenu=function(){t.mobileMenuExpanded="open",t.mobileMenuIconClass="oui-icon-close",t.updateOverlayClass()},t.closeMobileMenu=function(){t.mobileMenuExpanded="closed",t.mobileMenuIconClass="oui-icon-menu",t.updateOverlayClass()},t.updateOverlayClass=function(){"open"==t.mobileMenuExpanded||"open"==t.accountMenuExpanded?t.overlayClass="open":t.overlayClass="closed"},t.goToFirstHeading=function(e){var t=document.getElementById("page-heading");t&&t.focus(),e.stopPropagation(),e.preventDefault()},t.init=function(){t.shouldHideHeader();var e=s.getUser();e&&e.then(function(e){t.user=e},function(e){user=null})},t.init()}]),angular.module("portal-home").controller("HomeController",["$scope","$state","$filter","$window","$timeout","HomeService","ProductsService","CommunityService","RouteUtilityService","SiteCatalystService","UtilityDocumentService",function(e,t,a,n,r,o,i,s,l,c,u){e.scrollOffset=400,e.homeLoading=!0,e.init=function(){c.trackPage(""),o.getHomeContent().then(function(a){a.article?(e.baseImgPath=a.article.homepage.metadata["content.akamai.image.domain"],e.spotlight=a.article.homepage["default"][0],e.steps=a.article.homepage.getStarted,e.homeLoading=!1,r(function(){var e=n.document.getElementById("home-featured-general");e&&u.isElementInViewport(e)&&angular.element(e).addClass("animate")},100)):t.go("error",{type:"content-error"})},function(){t.go("error",{type:"content-error"})}),i.getFeaturedProducts().then(function(t){e.featuredProduct=t[0].landingFeatured[0]},function(){t.go("error",{type:"content-error"})}),s.getFeaturedEvent().then(function(t){t.length?e.eventsList=t:e.eventsList=[]},function(){t.go("error",{type:"content-error"})}),s.getFeaturedBlog().then(function(a){a.length?e.blogsList=a:t.go("error",{type:"content-error"})},function(){t.go("error",{type:"content-error"})})},e.slugify=function(e){var t=a("scrub_html")(e);return t=a("scrub_html_character_codes")(t),l.slugify(t)},e.init()}]),angular.module("portal-platform-documentation").controller("PlatformDocumentationController",["$scope","$state","PlatformDocumentationService","RouteUtilityService","$location","$timeout","$anchorScroll","SiteCatalystService","ProductsService",function(e,t,a,n,r,o,i,s,l){e.content=null,e.loading=!0,e.selected={documentationTitle:null},e.init=function(){a.getPlatformDocumentationList().then(function(a){if(e.loading=!1,e.links=[{title:"",children:[]}],e.documents=a,e.documents){for(var r=0;r<e.documents.length;r++){var o=n.slugify(e.documents[r]["default"][0].headline);if("Navigation"==e.documents[r].metadata["md:ent_contenttype"]){var i={title:e.documents[r]["default"][0].headline,route:"platform-documentation",routeParams:{slug:o},active:!1};o==t.params.slug&&(i.active=!0),e.links[0].children.push(i)}o==t.params.slug&&(e.content=e.documents[r]["default"][0],e.metadata=e.documents[r].metadata,s.trackPage("documentation",t.params.slug.replace(/-/g," ")))}e.content||(e.content=e.documents[0]["default"][0],e.metadata=e.documents[0].metadata,e.links[0].children[0].active=!0,s.trackPage("documentation")),e.goToSelected(),e.getOurProductsList()}},function(e){t.go("error",{type:"content-error"})})},e.getOurProductsList=function(){l.getProducts().then(function(t){if(Array.isArray(t)&&t.length){e.links[1]={title:"Our Products",children:[]};for(var a=0;a<t.length;a++){var r=n.slugify(t[a]["default"][0].headline),o={title:t[a]["default"][0].headline,route:"product-documentation",routeParams:{slug:r},active:!1};e.links[1].children.push(o)}}})},e.goToDocumentationPage=function(){for(var t=0;t<e.documents.length;t++)e.documents[t]["default"][0].headline==e.selected.documentationTitle?(e.content=e.documents[t]["default"][0],e.metadata=e.documents[t].metadata,e.links[0]&&e.links[0].children[t]&&(e.links[0].children[t].active=!0),e.goToSelected()):e.links[0]&&e.links[0].children[t]&&(e.links[0].children[t].active=!1)},e.goToSelected=function(){if(e.selected.documentationTitle=e.content.headline,e.content.media){for(var n=0;n<e.content.media.length;n++)if(e.content.media[n].path.length&&"documentation"==e.content.media[n].type){e.isTutorial=!0,e.tutorialPath=e.content.media[n].path;break}}else e.isTutorial=!1;e.isTutorial&&a.getDocumentationFile(e.metadata["content.akamai.image.domain"]+e.tutorialPath).then(function(a){a?(e.tutorial=a.replace(new RegExp("{base.path.static.content}","g"),e.metadata["content.akamai.image.domain"]),r.hash()&&o(function(){i()},200)):t.go("error",{type:"content-error"})})},e.init()}]),angular.module("portal-platform-template").controller("SingleColumnTemplateController",["$scope","$state","$sce","$filter","SingleQueryService","PlatformTemplateService","$location","SiteCatalystService","PageTitleService",function(e,t,a,n,r,o,i,s,l){e.init=function(){if(t.params.slug){var a=r[t.params.slug];if(!a)return void t.go("error",{type:"not-found"});o.getSingleColumnContent(a).then(function(a){if(a){e.page=a;var r=n("scrub_html")(e.page[0].headline);r!=l.getPageTitle()&&(l.setPageTitle(r),t.reload(),s.trackPage(t.params.slug.replace(/-/g," ")))}else t.go("error",{type:"content-error"})},function(e){t.go("error",{type:"content-error"})})}},e.init()}]),angular.module("portal-product-codev").controller("ProductCodevController",["$scope","$stateParams","$location","UserService","SiteCatalystService","$state","$filter","ProductCodevService","moment","$document",function(e,t,a,n,r,o,s,l,c,u){function d(){this.key,this.owner,this.lastModified,this.deleteAllowed,this.inprocess,this.s3location,this.isdirty,this.timestamp,this.status}e.viewTestDataToolTip1={text:"Sri Display content here",showIcon:!1,placement:"bottom"},e.messages={resDesc_default:"No resources have been shared yet; click below to share a file from your device.",resDesc_files:"Below are the shared files available for this collaborative app.",scan_inprocess:"Scanning document for any malware...",scan_malware:"Suspicious content detected. Please verify the content of your file and try again.",scan_error:"Something went wrong while scanning the file for malware. Please try again later",file_upload_error_size:"File size exceeds 10MB",file_upload_types:"<p>Supported file types: MS Office documents, .pdf, .html,.htm, .jpeg,.txt,.rtf,.jpg,.png,.img,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.std.err,.std.out,.log</p><p>Max file size: 10 MB</p>",file_upload_error_name:"File name contains unsupported character",file_upload_error_types:"File type not supported{{errorFileType}}<br>File name must include type extension",file_delete_error:"<p>Error deleting the file. Please try again later.</p>",file_upload_error_system:"<p>Error uploading the file. Please try again later.</p>",file_download_error:"Error downloading the file. Please try again later.",file_overwrite_msg:"Document with the name ... already exists. Are you sure you want to replace it?",file_overwrite_error:"Document with the name ....doc already exists, and only the original owner can replace it. Please rename the document and upload again.",file_delete_msg:"Are you sure you want to delete the file ...?",file_validations_header:"File Upload Guidelines",file_validations_list:"<p>Size must not exceed 10MB.</p><p>Names may only use these supported characters: Aa-Zz, hyphen, period, underscore, space, parenthesis.</p><p>Supported files types are .doc, .docx, .htm, .html, .img, .jpeg, .jpg, .log, .pdf, .png, .ppt, .pptx. .rtf, .std.err, .std.out, .txt, .xls, .xlsx.</p><p>All file names must include their type extension.</p>"},e.refreshState=function(){e.uploadErr=!1,e.isDeleteShow=-1,e.fileNameError=!1},e.$on("myFile",function(t,a){e.refreshState(),e.myFile=a;var n=e.validateFile(a);e.uploadFile(n)}),e.validateFile=function(t){if(t.size>1e7)return e.uploadErr=e.messages.file_upload_error_size,!1;var a=t.name.lastIndexOf("."),n=t.name.substr(0,a),r=t.name.substr(a+1);if(e.fileTypeArr.indexOf(r)<0)return e.errorFileType=": "+r,e.uploadErr=e.messages.file_upload_error_types,!1;if(0==/^[a-zA-Z0-9-_(). ]*$/.test(n))return e.uploadErr=e.messages.file_upload_error_name,!1;if(e.response)for(var o=0;o<e.response.length;o++)if(e.response[o].key==t.name)return e.response[o].owner==e.user.email?(e.fileNameError=e.messages.file_overwrite_msg.replace("...",t.name),e.overwrite=e.response[o]):(e.fileNameError=e.messages.file_overwrite_error.replace("...",t.name),e.overwrite=!1),!1;return!0},e.uploadFile=function(t){if(t){var a=new d;a.key=e.myFile.name,a.lastModified=e.messages.scan_inprocess,a.deleteAllowed=!0,a.inprocess=!0,a.owner=e.user.email;var n=s("date")(new Date,"yyyy-MM-ddTHH:mmZ");a.timestamp=n;new Date;e.response.push(a);var r=e.response.length,o=e.myFile;l.uploadFileToUrl(o,e.clientId,e.apiId,e.appId).then(function(t){if(e.resDesc=e.messages.resDesc_files,"malware"==t.data.status)e.response[r-1].lastModified=e.messages.scan_malware,e.response[r-1].inprocess=!1,e.response[r-1].isdirty=!0,e.response[r-1].status=t.data.status;else if("error"==t.data.status)e.response[r-1].lastModified=e.messages.scan_error,e.response[r-1].inprocess=!1,e.response[r-1].deleteAllowed=!0,e.response[r-1].isdirty=!0,e.response[r-1].status=t.data.status;else if("clean"==t.data.status){var a=new Date;e.response[r-1].lastModified=e.getTimeDiff(a),e.response[r-1].inprocess=!1,e.response[r-1].deleteAllowed=!0,e.response[r-1].isdirty=!1,e.response[r-1].status=t.data.status,e.response[r-1].s3location=t.data.resourceUrl,e.response[r-1].owner=e.user.email}},function(t){e.uploadErr=e.messages.file_upload_error_system,e.response.pop(a)})}},e.clickSure=function(t){if("overwrite"==t){var a=e.response,n=[];for(i=0;i<a.length;i++)if(a[i].key==e.overwrite.key);else{var r=new d;r.key=a[i].key,r.owner=a[i].owner,r.lastModified=a[i].lastModified,r.deleteAllowed=a[i].deleteAllowed,r.inprocess=a[i].inprocess,r.s3location=a[i].s3location,r.isdirty=a[i].isdirty,r.status=a[i].status,r.timestamp=a[i].timestamp,n.push(r)}e.response=n,e.uploadFile(!0)}e.fileNameError=!1},e.getClass=function(e){return"malware"==e||"error"==e?"red":"blue"},e.deleteRow=function(t,a){e.refreshState(),e.isDeleteShow=t,e.deleteMessage=e.messages.file_delete_msg.replace("...",a)},e.clickCancel=function(t){e.isDeleteShow=-1},e.clickDeleteFile=function(t,a){e.deleteFile(a)},e.deleteFile=function(t){l.deleteFile(t,e.clientId,e.apiId,e.appId).then(function(a){var n=e.response,r=[];for(i=0;i<n.length;i++)if(n[i].key==t||"delete"==n[i].status);else{var o=new d;o.key=n[i].key,o.owner=n[i].owner,o.lastModified=n[i].lastModified,o.deleteAllowed=n[i].deleteAllowed,o.inprocess=n[i].inprocess,o.s3location=n[i].s3location,o.isdirty=n[i].isdirty,o.status=n[i].status,o.timestamp=n[i].timestamp,r.push(o)}e.response=r,0==e.response.length&&(e.resDesc=e.messages.resDesc_default),e.isDeleteShow=-1},function(t){e.uploadErr=e.messages.file_delete_error,e.isDeleteShow=-1})},e.params=atob(t.d);for(var p=e.params.split(","),m=p.length,g=0;g<m;g++)switch(p[g]||(p[g]="default"),g){case 0:e.prodName=p[g];break;case 1:e.clientId=p[g];break;case 3:e.appId=p[g];break;case 4:e.appName=p[g];break;case 5:e.apiId=p[g]}e.appDesc=t.appDesc,e.resDesc=e.messages.resDesc_default,e.uploadErr=!1,e.response=[],e.isDeleteShow=-1,e.fileTypeArr="pdf, html,htm, jpeg, txt, rtf, jpg, png, img, doc, docx, xls, xlsx, ppt, pptx, std.err, std.out, log",e.loading={codev:!0,pageId:!1},e.failures={codev:!1,pageId:!1},e.inputTooltip1="{filename} <br /> {useremail}<br />",e.inputTooltip2="{filename} <br /> {useremail}<br />",getFileList=function(){l.getFile(e.clientId,e.apiId,e.appId).then(function(t){
	if(e.loading.codev=!1,t.coDevDocumentList.length>0){for(e.resDesc=e.messages.resDesc_files,i=0;i<t.coDevDocumentList.length;i++)if("error"!=t.coDevDocumentList[i].status){var a=new d,n=t.coDevDocumentList[i].key,r=n.lastIndexOf("/"),o=n.substring(r+1),s=t.coDevDocumentList[i].lastModified,l=e.getTimeDiff(s);a.key=o,a.owner=t.coDevDocumentList[i].owner,"malware"==t.coDevDocumentList[i].status?(a.lastModified=e.messages.scan_malware,a.deleteAllowed=!0,a.inprocess=!1,a.s3location=t.coDevDocumentList[i].resourceUrl,a.isdirty=!0,a.timestamp=s,a.status=t.coDevDocumentList[i].status):(a.lastModified=l,a.deleteAllowed=t.coDevDocumentList[i].deleteAllowed,a.inprocess=t.coDevDocumentList[i].inprocess,a.s3location=t.coDevDocumentList[i].resourceUrl,a.isdirty=!1,a.timestamp=s,a.status=t.coDevDocumentList[i].status),e.list.push(a)}e.response=e.list}},function(t){e.loading.codev=!1})};var f=n.getUser(!0);f.then(function(t){s("date")(new Date,"yyyy-MM-dd HH:mm:ss Z");e.loading.codev=!0,e.list=[],getFileList()}),e.getTimeDiff=function(e){var t=new Date(e),a=new Date;return c(a).diff(c(t),"days")>=1?c(e).format("MMM Do, YYYY"):c(e).fromNow()},e.viewTestDataToolTip={text:"Make sure there are no errors on the page to use this button",showIcon:!1,placement:"bottom"}}]),angular.module("portal-product-documentation").controller("ProductDocumentationController",["$scope","$state","ProductsService","RouteUtilityService","$location","$timeout","$anchorScroll","SiteCatalystService","PageTitleService","UserService","ProductRuntestService",function(e,t,a,n,r,o,i,s,l,c,u){e.documentation=null,e.slug=t.params.slug,e.hasTutorial=!1,e.init=function(){e.playgrounData=null,e.productsResponse=null,u.getCmsData().then(function(t){e.playgrounData=t,null!=e.playgrounData&&null!=e.productsResponse&&setContent(e.productsResponse)},function(){t.go("error",{type:"content-error"})}),a.getProducts().then(function(u){for(var d=u,p=null,m=0;m<u.length;m++)if(n.slugify(d[m]["default"][0].headline)==t.params.slug){p=d[m];break}if(p){for(e.hero=p["default"][0],e.metadata=p.metadata,e.baseImgPath=e.metadata["content.akamai.image.domain"],e.hero.headline!=l.getPageTitle()?(l.setPageTitle(e.hero.headline),t.params.anchor=r.hash(),t.go(t.current.name,t.params,{reload:!0})):(s.trackPage("API products",e.slug,"doc"),r.hash(t.params.anchor)),m=0;m<e.hero.media.length;m++)"hero"==e.hero.media[m].type&&(e.heroBackgroundImage=e.baseImgPath+e.hero.media[m].path);e.isBeta=p.beta;for(var g=null,f=0;f<p["default"][0].media.length;f++)"documentation"==p["default"][0].media[f].type.toLowerCase()&&(g=p.metadata["content.akamai.image.domain"]+p["default"][0].media[f].path),"tutorial"==p["default"][0].media[f].type&&p["default"][0].media[f].path.length&&(e.hasTutorial=!0);e.productsResponse=p,null!=e.playgrounData&&null!=e.productsResponse&&setContent(e.productsResponse),g&&a.getDocumentationFile(g).then(function(t){e.documentation=t.replace(new RegExp("{base.path.static.content}","g"),p.metadata["content.akamai.image.domain"]),r.hash()&&o(function(){i()},200)}),e.breadcrumbs=[{state:"home",stateParams:{},name:"Home"},{state:"products",stateParams:{},name:"API Products"},{state:"product-documentation",stateParams:{},name:e.hero.headline}]}else c.getUser(!0).then(function(e){t.go("sign-in",{errors:[]})},function(e){t.go("sign-in",{errors:[]})})},function(){t.go("error",{type:"content-error"})})},setContent=function(t){var a=t;for(var n in e.playgrounData.asset)if("global_runTest_cb"!=n&&a.metadata["md:ent_contentkey"]==e.playgrounData.asset[n].contentStream.content_bundle.headline[0].content_key){e.hasPlayground=!0;break}},e.requestAccessClicked=function(){s.trackButton("request access")},e.init()}]),angular.module("portal-product-homepage").controller("ProductHomepageController",["$scope","$state","ProductsService","RouteUtilityService","$location","SiteCatalystService","PageTitleService","ProductRuntestService",function(e,t,a,n,r,o,i,s){e.slug=t.params.slug,e.hasTutorial=!1,e.getAccessClicked=function(){o.trackButton("request access")},e.playgrounData=null,e.productsResponse=null,s.getCmsData().then(function(t){e.playgrounData=t,null!=e.playgrounData&&null!=e.productsResponse&&setContent(e.productsResponse)},function(){t.go("error",{type:"content-error"})}),a.getProducts().then(function(a){for(var r=a,s=null,l=0;l<a.length;l++)if(n.slugify(r[l]["default"][0].headline)==e.slug){s=r[l];break}if(s){for(e.metadata=s.metadata,e.baseImgPath=e.metadata["content.akamai.image.domain"],e.hero=s["default"][0],e.features=s.feature,e.testimony&&(e.testimony=s.testimony[0]),e.usage=s.usage,l=0;l<e.hero.media.length;l++)if("hero"==e.hero.media[l].type){e.heroBackgroundImage=e.baseImgPath+e.hero.media[l].path;break}for(var c=0;c<s["default"][0].media.length;c++)if("tutorial"==s["default"][0].media[c].type&&s["default"][0].media[c].path.length){e.hasTutorial=!0;break}e.productsResponse=s,null!=e.playgrounData&&null!=e.productsResponse&&setContent(e.productsResponse),e.hero.headline!=i.getPageTitle()?(i.setPageTitle(e.hero.headline),t.reload()):o.trackPage("API products",e.slug),e.isBeta=s.beta,e.breadcrumbs=[{state:"home",stateParams:{},name:"Home"},{state:"products",stateParams:{},name:"API Products"},{state:"product-homepage",stateParams:{},name:s["default"][0].headline}]}})["catch"](function(){t.go("error",{type:"content-error"})}),setContent=function(t){var a=t;if(e.playgrounData)for(var n in e.playgrounData.asset)if("global_runTest_cb"!=n&&a.metadata["md:ent_contentkey"]==e.playgrounData.asset[n].contentStream.content_bundle.headline[0].content_key){e.hasPlayground=!0;break}}}]),angular.module("portal-product-inventory").controller("ProductInventoryController",["$scope","$state","$filter","$location","ProductInventoryService","ProductsService","RouteUtilityService","SiteCatalystService","CoreEventsService","UserService","ProductRuntestService",function(e,t,a,n,r,o,i,s,l,c,u){s.trackPage("API products"),e.breadcrumbs=[{state:"home",stateParams:{},name:"Home"},{state:"products",stateParams:{},name:"Product Inventory"}],r.getProductInventoryContent().then(function(a){a.article?e.hero=a.article.api_inventory["default"][0]:t.go("error",{type:"content-error"})},function(){t.go("error",{type:"content-error"})}),e.playgrounData=null,e.productsResponse=null,u.getCmsData().then(function(t){e.playgrounData=t,null!=e.playgrounData&&null!=e.productsResponse&&setContent(e.productsResponse)},function(){t.go("error",{type:"content-error"})}),o.getProductsInventory().then(function(t){e.productsResponse=t,null!=e.playgrounData&&null!=e.productsResponse&&setContent(e.productsResponse)},function(){t.go("error",{type:"content-error"})}),e.slugify=function(e){var t=a("scrub_html")(e);return t=a("scrub_html_character_codes")(t),i.slugify(t)},setContent=function(a){if(Array.isArray(a.prods)&&a.prods.length){e.products=a.prods;for(var n=0;n<e.products.length;n++)if(e.products[n]["default"][0].media){for(var r=0;r<e.products[n]["default"][0].media.length;r++)if(e.products[n].isPrivate=!1,"tutorial"==e.products[n]["default"][0].media[r].type&&e.products[n]["default"][0].media[r].path.length)e.products[n].hasTutorial=!0;else if("documentation"==e.products[n]["default"][0].media[r].type.toLowerCase()&&e.products[n]["default"][0].media[r].path.length)e.products[n].hasDocumentation=!0;else for(var o in e.playgrounData.asset)if("global_runTest_cb"!=o&&e.products[n].metadata["md:ent_contentkey"]==e.playgrounData.asset[o].contentStream.content_bundle.headline[0].content_key){e.products[n].hasPlayground=!0;break}}else{e.products[n].isPrivate=!0;for(var r=0;r<e.products[n]["default"][0].button.length;r++){var i=(e.products[n]["default"][0].button[r].addText,e.products[n]["default"][0].button[r].type);if("private"==i){e.products[n].privateurl=e.products[n]["default"][0].button[r].link.path;break}}}}else t.go("error",{type:"content-error"});Array.isArray(a.altprods)&&a.altprods.length&&(e.altProducts=a.altprods)}}]),angular.module("portal-product-runtest").controller("ProductRuntestController",["$scope","UtilityDocumentService","$document","$timeout","$state","$window","$anchorScroll","ProductsService","RouteUtilityService","$location","SiteCatalystService","PageTitleService","ProductTestingService","ProductRuntestService","UserService","AppsService","StatusCodesService","ProductRuntestStateService",function(e,t,a,n,r,o,s,l,c,u,d,p,m,g,f,h,v,S){function y(){this.name,this.clientId,this.clientSecret,this.redirectURI,this.cntrtId,this.appId}S.reset(),e.slug=r.params.slug,e.hasTutorial=!1,e.loading={runtest:!1},e.failures={runtest:!1},e.selectedApp={app:""},e.redirectImportant=!1,e.$watch("loading.runtest",function(t,a){!e.loading.runtest&&e.isAuthReqSent&&e.$broadcast("stateChangedBroadcast","tabScroll")}),d.trackPage("playground",r.params.slug),e.$on("stateChangedEmit",function(t,a){var n=S.getState();e.callApiTab=n.callApiTab,e.callapiMessage=n.callApiMessage,e.callapiNextStep=n.callApiNextStep,e.cmsglobaldata=n.cmsGlobalData,e.isCallApiReqSent=n.isCallApiReqSent,e.isStep3Enabled=n.isStep2Enabled,e.isStep2Enabled=n.isStep2Enabled,e.isAuthReqSent=n.isAuthReqSent,e.currStep=n.currStep,"setSel"==a&&(e.selApp=n.selApp),e.selApp||"countCallApi"==a&&(e.selApp=e.demoAppEnv.clientId),e.isApiFlowDone=n.isApiFlowDone,e.isTabApiFlowDone=n.isTabApiFlowDone,e.callApiExist=n.callApiExist,e.$broadcast("stateChangedBroadcast",a)}),e.getAccessClick=function(){e.getAccessClickVar=!0,n(function(){document.getElementById("trigger").click()})},e.getAccessClicked=function(){d.trackButton("request access")},getCmsData=function(){g.getCmsData().then(function(t){var a;for(var n in t.asset)if("global_runTest_cb"==n){e.cmsglobaldata=t.asset[n].contentStream.content_bundle;for(var r in e.cmsglobaldata.config)window.location.href.indexOf(e.cmsglobaldata.config[r].url)>-1&&(e.idbhost=e.cmsglobaldata.config[r].env.idbhost,e.gwhost=e.cmsglobaldata.config[r].env.gwhost,e.apihost=e.cmsglobaldata.config[r].env.apihost,e.demoAppEnv=e.cmsglobaldata.config[r].env.demoAppDetails,S.setIdbhost(e.idbhost),S.setGwhost(e.gwhost),S.setApihost(e.apihost),S.setDemoAppEnv(e.demoAppEnv),e.$broadcast("stateChangedBroadcast","getContent"));S.setCmsGlobalData(e.cmsglobaldata),e.$broadcast("stateChangedBroadcast",e.cmsglobaldata),e.$emit("stateChangedEmit",e.cmsglobaldata)}else e.slug==c.slugify(t.asset[n].contentStream.content_bundle.headline[0].productname)&&(a=t.asset[n].contentStream.content_bundle,e.oauth=a.headline[0].oauth,e.contentKey=a.headline[0].content_key);e.playgroundbody=a.headline[0].productdesc,e.cmsdata=a,a.hasOwnProperty("auth")&&(e.cmsAuth=a.auth[0]),e.cmsToken=a.token[0],e.cmsCallApi1=a.callapi1[0],e.cmsCommon=a.common[0],a.hasOwnProperty("callapi2")?e.cmsCallApi2=a.callapi2[0]:e.cmsCallApi2="",S.setPlaygroundBody(e.playgroundbody),S.setCmsData(e.cmsdata),e.$broadcast("stateChangedBroadcast","getCmsData"),e.checkStatus()})["catch"](function(){r.go("error",{type:"content-error"})})},getTestData=function(t){if(t.clientId==e.demoAppEnv.clientId){var a;"3legged"==e.oauth?a=e.cmsAuth.table:"2legged"==e.oauth&&(a=e.cmsCallApi1.table),a&&(e.testdata=JSON.parse(a),S.setTestData(e.testdata),e.$broadcast("stateChangedBroadcast","getTestData"))}else e.loading.runtest=!0,e.failures.runtest=!1,m.getTestData(e.contentKey,t.clientId,"","",t.appId).then(function(t){e.loading.runtest=!1,e.response=t,t.userDataViewList&&!t.userDataViewList.length?e.failures.runtest=!0:(S.setTestData(t),e.$broadcast("stateChangedBroadcast","getTestData"))},function(t){e.loading.runtest=!1,e.failures.runtest=!0})},e.setConfigOptions=function(t){e.clientId=t.clientId,e.clientSecret=t.clientSecret,e.redirecturi=t.redirectURI,e.cntrtId=t.cntrtId,"2legged"==e.oauth?e.configoptions=[{name:"Client ID",value:e.clientId},{name:"Client Secret",value:e.clientSecret},{name:"Language",value:"Curl"}]:(e.configoptions=[{name:e.cmsglobaldata.configOptions[0].client,value:e.clientId},{name:e.cmsglobaldata.configOptions[0].secret,value:e.clientSecret},{name:e.cmsglobaldata.configOptions[0].redirect,value:e.redirecturi},{name:e.cmsglobaldata.configOptions[0].lang,value:"Curl"}],e.redirectImportant=!(e.demoAppEnv.redirectURI==e.redirecturi),S.setRedirectImportant(e.redirectImportant)),S.setClientId(e.clientId),S.setClientSecret(e.clientSecret),S.setRedirectUri(e.demoAppEnv.redirectURI),S.setCntrtId(e.cntrtId),e.$broadcast("stateChangedBroadcast","getConfigOptions"),getTestData(t)},e.showSelectValue=function(t){var a=e.demoAppEnv,n=new y;for(t||(n.clientId=a.clientId,n.clientSecret=a.clientSecret,n.redirectURI=a.redirectURI,n.name=a.name,n.cntrtId="NA",t=n),e.selectedApp.app=t,i=0;i<e.apps.length;i++)if(t.clientId==e.apps[i].clientId){e.setConfigOptions(e.selectedApp.app);break}(e.isStep2Enabled||e.isStep3Enabled||e.isAuthReqSent)&&e.resetFlow("changeApp"),S.setSelectedApp(e.selectedApp.app),S.setSelApp(t.clientId),e.$broadcast("stateChangedBroadcast","selectApp")},e.resetFlow=function(t){S.reset(),e.$broadcast("stateChangedEmit",t),e.$broadcast("stateChangedBroadcast",t),r.go("product-runtest",{accessProduct:!1,slug:e.slug,code:null,state:null},{notify:!1,reload:!1,location:"replace",inherit:!0})},e.selectTab=function(t){e.selectedStep=t,e.currStep=t,"Authorization"===t&&e.isStep2Enabled||"AccessToken"===t&&e.isStep3Enabled&&(null!=e.accessToken,e.isRewardsDetails=!1,e.isTokenReqSent=!1,e.isStep2Enabled=!0),"CallApi"===t&&e.isStep3Enabled&&(e.callApiTab=!0),"CallApi"!=t&&e.isStep3Enabled&&(e.callApiTab=!1),e.callapiMessage="",S.setCurrStep(e.currStep),S.setCallApiMessage(e.callapiMessage),S.reset(),e.$emit("stateChangedBroadcast","selectTab: "+t)},e.scrollTo=function(e){a.scrollTop(t.getElementOffset(document.querySelector(e)).top,700)},e.scrollFast=function(e){u.hash(e),s()},e.reloadContent=function(){e.failures.runtest=!1,e.loading.runtest=!0,getCmsData()},e.checkStatus=function(){e.apps=[];var t=f.getUser(!0);t.then(function(t){e.connectedapps=[],e.loadapps=!1;var a=e.demoAppEnv,n=new y;n.clientId=a.clientId,n.clientSecret=a.clientSecret,n.redirectURI=a.redirectURI,n.name=a.name,n.cntrtId="NA",e.apps.push(n),e.connectedapps.push(n),e.selApp==n.clientId&&(e.selectedApp.app=e.apps[0],e.setConfigOptions(n)),h.findAppsByProduct(e.cmsdata.headline[0].content_key).then(function(t){h.getApps().then(function(a){function n(t,n){function r(a,n){if(t.appId==a.appId){var r=new y;r.clientId=t.clientId,r.clientSecret=t.sharedSecret,r.redirectURI=t.redirectUri,r.name=a.name,r.cntrtId=t.cntrtId,r.appId=t.appId,pushApp=!0;for(var o=0;o<e.connectedapps.length;o++)tempApp=e.connectedapps[o],tempApp.clientId==r.clientId&&(pushApp=!1);pushApp&&e.connectedapps.push(r),e.selApp==r.clientId&&(e.selectedApp.app=r,e.setConfigOptions(e.selectedApp.app)),isAppsLoaded=!0,e.apps=e.connectedapps,e.loadapps=!0}}a.forEach(r)}t.forEach(n),e.loading.runtest=!1})},function(t){e.loading.runtest=!1;var a=u.absUrl().lastIndexOf("code=");e.selApp==n.clientSecret&&a>=0?e.loadapps=!0:e.failures.runtest=!0})},function(t){var a=e.demoAppEnv,n=new y;n.clientId=a.clientId,n.clientSecret=a.clientSecret,n.redirectURI=a.redirectURI,n.name=a.name,n.cntrtId="NA",e.apps.push(n),e.selectedApp.app=e.apps[0],e.setConfigOptions(n),S.setConnectedApps(e.connectedapps),S.setSelectedApp(e.selectedApp.app),e.$broadcast("stateChangedBroadcast","checkStatus"),e.loading.runtest=!1,e.failures.runtest=!1})},function(){e.slug=r.params.slug;var t=u.absUrl(),a=t.lastIndexOf("code="),o=t.lastIndexOf("&state=");if(a>0||o>0){var i,s=t.lastIndexOf("&state="),d=t.indexOf("#");i=d<=0?t.substring(s+7):t.substring(s+7,d),i=decodeURIComponent(i);var m=window.atob(i),g=m.indexOf(",");e.slug=m.substring(0,g),S.setSlug(e.slug),e.selApp=m.substring(g+1),S.setSelApp(e.selApp),e.$emit("stateChangedEmit","slug")}S.getState();e.loading.runtest=!0,l.getProducts().then(function(t){for(var a=t,o=null,i=0;i<t.length;i++)if(c.slugify(a[i]["default"][0].headline)==e.slug){o=a[i];break}if(o){for(e.metadata=o.metadata,e.baseImgPath=e.metadata["content.akamai.image.domain"],e.hero=o["default"][0],i=0;i<e.hero.media.length;i++)if("hero"==e.hero.media[i].type){e.heroBackgroundImage=e.baseImgPath+e.hero.media[i].path;break}for(var s=0;s<o["default"][0].media.length;s++)if("tutorial"==o["default"][0].media[s].type&&o["default"][0].media[s].path.length){e.hasTutorial=!0;break}e.isBeta=o.beta,e.hero.headline!=p.getPageTitle()?(p.setPageTitle(e.hero.headline),r.reload()):(getCmsData(),n(function(){e.$broadcast("stateChangedBroadcast","initialBroadcast")},1e3))}else e.loading.runtest=!1,e.failures.runtest=!0})["catch"](function(){r.go("error",{type:"content-error"})})}()}]),angular.module("portal-product-testing").controller("ProductTestingController",["$scope","ProductTestingService","$stateParams","$location","UserService","SiteCatalystService","$state",function(e,t,a,n,r,o,i){o.trackPage("app details","test data",a.id),e.appId=i.params.appId,a.d&&(e.d=a.d),e.dashboardEncode=function(t,a){var n=e.apiName+","+e.clientId+","+e.sharedSecret+","+e.appId+","+e.appName+","+e.akanaCntrtId+","+e.akanaApiVersId+","+e.akanaAppnVers+","+t+","+a;return btoa(n)},a.appName&&(e.appName=a.appName),e.productTesting=atob(a.d),e.svcNm=a.notifications;for(var s=e.productTesting.split(","),l=s.length,c=0;c<l;c++)switch(s[c]||(s[c]="default"),c){case 0:e.apiName=s[c];break;case 1:e.clientId=s[c];break;case 2:e.sharedSecret=s[c];break;case 3:e.appId=s[c];break;case 4:e.appName=s[c];break;case 5:e.akanaCntrtId=s[c];break;case 6:e.akanaApiVersId=s[c];break;case 7:e.akanaAppnVers=s[c]}e.urlId=a.id,e.appName.length>18&&(e.appName=e.appName.substr(0,15)+"..."),e.loading={testData:!1,pageId:!0},e.failures={testData:!1,pageId:!1},e.loadTestData=function(){e.loading.testData=!0,e.failures.testData=!1,t.loadProductTestData(e.akanaCntrtId,e.akanaApiVersId,e.akanaAppnVers,e.appId).then(function(t){e.loading.testData=!1,e.failures.testData=!1,e.getTestData(e.akanaApiVersId,e.clientId,e.svcNm,e.rqstId,e.appId)},function(t){e.loading.testData=!1,e.failures.testData=!0,e.getTestData(e.akanaApiVersId,e.clientId,e.svcNm,e.rqstId,e.appId)})},e.notificationActionClicked=function(a,n,r,o){t.postWebhookCallbackURL(a,e.clientId,n,r,e.appId).then(function(e){},function(e){}),t.simulationNotificationAction(e.akanaApiVersId,e.clientId,e.svcNm,a,n,o,e.appId).then(function(t){e.getTestData(e.akanaApiVersId,e.clientId,e.svcNm,e.rqstId,e.appId)},function(e){})},e.getPageContent=function(a,n,r,o,i){e.loading.pageId=!1,e.loading.testData=!0,e.failures.testData=!1,t.getPageContent(a,n,r,o,i).then(function(t){e.loading.testData=!1,e.response=t,t.userDataViewList&&!t.userDataViewList.length&&(e.failures.testData=!0)},function(t){e.loading.testData=!1,e.failures.testData=!0})},e.getTestData=function(a,n,r,o,i){e.loading.pageId=!1,e.loading.testData=!0,e.failures.testData=!1,t.getTestData(a,n,r,o,i).then(function(t){e.loading.testData=!1,e.response=t,t.userDataViewList&&!t.userDataViewList.length&&(e.failures.testData=!0)},function(t){e.loading.testData=!1,e.failures.testData=!0})},function(){var t=r.getUser(!0);t.then(function(t){e.user=t},function(e){i.go("sign-in")})}(),e.getTestData(e.akanaApiVersId,e.clientId,e.svcNm,e.rqstId,e.appId)}]),angular.module("portal-product-testing").controller("ProductTestingDashboardController",["$scope","ProductTestingService","$stateParams","$location","UserService","SiteCatalystService","$state","$http",function(e,t,a,n,r,o,i,s){o.trackPage("app details","test data","Rewards-Dashboard"),i.params&&(e.userName=i.params.userName,e.password=i.params.password,e.clientId=i.params.clientId,e.contractId=i.params.contractId,e.appId=i.params.appId),a.d&&(e.d=a.d),a.appName&&(e.appName=a.appName),e.productTesting=atob(a.d),e.svcNm=a.notifications;for(var l=e.productTesting.split(","),c=l.length,u=0;u<c;u++)switch(l[u]||(l[u]="default"),u){case 0:e.apiName=l[u];break;case 1:e.clientId=l[u];break;case 2:e.sharedSecret=l[u];break;case 3:e.appId=l[u];break;case 4:e.appName=l[u];break;case 5:e.akanaCntrtId=l[u],e.contractId=l[u];break;case 6:e.akanaApiVersId=l[u];break;case 7:e.akanaAppnVers=l[u];break;case 8:e.userName=l[u];break;case 9:e.password=l[u]}e.urlId=a.id,e.appName.length>18&&(e.appName=e.appName.substr(0,15)+"..."),e.loading={testData:!1,pageId:!0,dashboardDetails:!0},e.failures={testData:!1,pageId:!1,dashboardDetails:!1},e.accordionShow=[],e.accordionClicked=function(t){e.accordionShow[t]?e.accordionShow[t]=!1:e.accordionShow[t]=!0},e.dashboard=function(a,n,r,o){e.loading.dashboardDetails=!0,e.failures.dashboardDetails=!1,t.getSimulationDashboard(a,e.akanaApiVersId,r,o,e.appId).then(function(t){e.dashboardDetails=t,e.loading.dashboardDetails=!1,e.failures.dashboardDetails=!1},function(t){e.loading.dashboardDetails=!1,e.failures.dashboardDetails=!0})},e.dashboardHelper=function(){e.dashboard(e.clientId,e.contractId,e.userName,e.password)},e.dashboard(e.clientId,e.contractId,e.userName,e.password)}]),angular.module("portal-product-tutorials").controller("ProductTutorialsController",["$scope","$state","ProductsService","RouteUtilityService","$location","SiteCatalystService","UserService","ProductRuntestService",function(e,t,a,n,r,o,i,s){e.documentation=null,e.slug=t.params.slug,e.hasTutorial=!1,o.trackPage(r.path()),e.playgrounData=null,e.productsResponse=null,s.getCmsData().then(function(t){e.playgrounData=t,null!=e.playgrounData&&null!=e.productsResponse&&setContent(e.productsResponse)},function(){t.go("error",{type:"content-error"})}),a.getProducts().then(function(r){for(var o=r,s=null,l=0;l<r.length;l++)if(n.slugify(o[l]["default"][0].headline)==t.params.slug){s=o[l];break}if(s){e.metadata=s.metadata,e.hero=s["default"][0],e.baseImgPath=e.metadata["content.akamai.image.domain"];for(var c=null,u=0;u<s["default"][0].media.length;u++)"tutorial"==s["default"][0].media[u].type&&s["default"][0].media[u].path.length&&(e.hasTutorial=!0,c=s.metadata["content.akamai.image.domain"]+s["default"][0].media[u].path);for(l=0;l<e.hero.media.length;l++)if("hero"==e.hero.media[l].type){e.heroBackgroundImage=e.baseImgPath+e.hero.media[l].path;break}e.productsResponse=s,null!=e.playgrounData&&null!=e.productsResponse&&setContent(e.productsResponse),e.isBeta=s.beta,c&&a.getDocumentationFile(c).then(function(t){e.documentation=t.replace(new RegExp("{base.path.static.content}","g"),s.metadata["content.akamai.image.domain"])}),e.breadcrumbs=[{state:"home",stateParams:{},name:"Home"},{state:"products",stateParams:{},name:"API Products"},{state:"product-tutorials",stateParams:{},name:e.hero.headline}]}else i.getUser(!0).then(function(e){t.go("sign-in",{errors:[]})},function(e){t.go("sign-in",{errors:[]})})})["catch"](function(){t.go("error",{type:"content-error"})}),setContent=function(t){var a=t;for(var n in e.playgrounData.asset)if("global_runTest_cb"!=n&&a.metadata["md:ent_contentkey"]==e.playgrounData.asset[n].contentStream.content_bundle.headline[0].content_key){e.hasPlayground=!0;break}}}]),angular.module("portal-signin-signup").controller("PasswordController",["$scope","$location","$state","$timeout","$stateParams","UserService","StatusCodesService","UtilityDocumentService","Base64UtilityService","SiteCatalystService",function(e,t,a,n,r,o,i,s,l,c){c.trackPage("forgot password");var u=t.$$path.replace("/",""),d=u.replace("-"," ").replace(/\w*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});e.breadcrumbs=[{state:"home",stateParams:{},name:"Home"},{state:u,stateParams:{},name:d}],e.loading=!1,e.passwordReset={},e.passwordResetEmail={},e.validateEmailSuccess=r.message,e.errorMessage="",e.errors=[],e.loginLink=r.loginLink,e.passwordTooltip="&bull; 8 to 32 characters, no spaces<br />&bull; At least one letter and one number<br />&bull; Use any letter and number or -_./@$*&!#",e.updatePassword=function(){if(!e.loading){e.loading=!0;var t=l.decode64(a.params.token);t=JSON.parse(t),e.email=t.email,e.token=t.token;var n=e.validatePassword(e.passwordReset.newPassword,e.passwordReset.confirmPassword);if(n.status){var r={email:e.email,password:e.passwordReset.newPassword,token:e.token};o.updatePassword(r).then(function(t){e.loading=!1,t.status==i.success?a.go("password-reset-success",{message:"You have successfully updated your password. Please",loginLink:"true"}):t.type==i.errorResponse?e.errors=[{msg:t.text,inputId:"inputNewPassword"}]:e.errors=[{msg:"Sorry Something Went Wrong. Please Try Again",inputId:"inputNewPassword"}]})}else e.loading=!1,e.errors=n.errors,e.setFocus(n.errors[0].inputId)}},e.forgotPassword=function(){if(!e.loading){e.loading=!0;var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=function(t){var n={email:t};o.forgotPasswordValidateEmailId(n).then(function(t){e.loading=!1,t.status==i.success?a.go("password-reset-success",{message:"Please click on the link in your email to create a new password."}):t.type==i.errorResponse?(e.errors=[{msg:t.text,inputId:"inputEmail"}],e.emailClass="error"):(e.errors=[{msg:"Sorry Something Went Wrong. Please Try Again",inputId:"inputEmail"}],e.emailClass="error")})};e.passwordResetEmail.email?t.test(e.passwordResetEmail.email)?n(e.passwordResetEmail.email):(e.errors=[{msg:"Invalid email address",inputId:"inputEmail"}],e.emailClass="error",e.loading=!1):(e.errors=[{msg:"Email is required",inputId:"inputEmail"}],e.emailClass="error",e.loading=!1)}},e.setFocus=function(e){s.setFocusById(e)},e.validatePassword=function(t,a){var n=[],r=/^(?=.*\d)(?=.*[a-z])[0-9a-zA-Z-_.\/\@$*&!#]{8,32}$/;return e.passwordClass="",e.passwordVerifyClass="",t.length?t!==a?(n.push({msg:"Confirm Password does not match.",inputId:"inputNewPassword"}),e.passwordClass="error",e.passwordConfirmClass="error"):(!r.test(t)||t.toLowerCase().indexOf("qwerty")>=0||t.toLowerCase().indexOf("password")>=0)&&(n.push({msg:'Password cannot contain "qwerty" or "password".',inputId:"inputNewPassword"}),e.passwordClass="error",e.passwordConfirmClass="error"):(n.push({msg:"Password required.",inputId:"inputNewPassword"}),e.passwordClass="error"),{status:!n.length,errors:n}}}]),angular.module("portal-signin-signup").controller("SignInController",["$scope","$location","$state","$timeout","UserService","ZendeskService","StatusCodesService","UtilityDocumentService","SiteCatalystService",function(e,t,a,n,r,o,i,s,l){l.trackPage("sign in"),e.breadcrumbs=[{state:"home",stateParams:{},name:"Home"},{state:"sign-in",stateParams:{},name:"Sign In"}],e.loading=!1,e.errors=a.params.errors||[],e.signIn={},e.signIn.email="",e.signIn.password="",e.emailClass="",e.passwordClass="",e.signIn=function(){if(!e.loading){l.trackLoginButton("sign-in"),e.loading=!0;var t=e.validateSignIn();t.status?r.signIn(e.signIn.email,e.signIn.password,!0).then(function(t){e.loading=!1,t.id?a.params.postRoute?a.params.postRouteParams?a.go(a.params.postRoute,a.params.postRouteParams):a.go(a.params.postRoute):a.params.return_to?o.generateZendeskLink(a.params.return_to).then(function(e){window.location=e.data.jwtUrl}):a.go("account"):(t.type==i.errorResponse?(e.errors=[{msg:t.developerText,inputId:"inputEmail"}],e.emailClass="error",e.passwordClass="error",e.setFocus(e.errors[0].inputId)):(e.emailClass="error",e.passwordClass="error",e.errors=[{msg:"An error occurred.",inputId:"first-name"}]),e.setFocus("first-name"))}):(e.loading=!1,e.errors=t.errors,e.setFocus(t.errors[0].inputId))}},e.validateSignIn=function(){var t=[],a=e.signIn.email?e.signIn.email:"",n=e.signIn.password?e.signIn.password:"",r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.emailClass="",e.passwordClass="",r.test(a)||(t.push({msg:"Email address is invalid.",inputId:"inputEmail"}),e.emailClass="error"),n.length||(t.push({msg:"Password required.",inputId:"inputPassword"}),e.passwordClass="error"),{status:!t.length,errors:t}},e.setFocus=function(e){s.setFocusById(e)}}]),angular.module("portal-signin-signup").controller("SignOutController",["$scope","$state","$timeout","UserService",function(e,t,a,n){a(n.signOut().then(function(){t.go("home")}),200)}]),angular.module("portal-signin-signup").controller("SignUpController",["$scope","$state","$location","$timeout","$filter","$window","SignUpService","UserService","StatusCodesService","UtilityDocumentService","SiteCatalystService","$http","Base64UtilityService",function(e,t,a,n,r,o,i,s,l,c,u,d,p){u.trackPage("sign up"),o.google_trackConversion({google_conversion_id:930759455,google_custom_params:{},google_conversion_language:"en",google_conversion_format:"3",google_conversion_color:"ffffff",google_conversion_label:"0H_FCPyBvmQQn4bpuwM",google_remarketing_only:!1}),e.breadcrumbs=[{state:"home",stateParams:{},name:"Home"},{state:"sign-up",stateParams:{},name:"Sign Up"}],i.closedBetaFlag().then(function(t){e.closedBetaFlag=t.closeBeta}),e.homeurl="https://"+location.hostname+"/closed-beta-thanks",e.loading=!1,e.errors=[],e.prepopulatedEmail=null,e.signUp={},e.signUpData=null,e.closeBetaEmail={},e.actionBtnText="Create Account",e.passwordTooltip="&bull; 8 to 32 characters, no spaces<br />&bull; At least one letter and one number<br />&bull; Use any letter and number or -_./@$*&!#",e.init=function(){if(t.params.token){var a=p.decode64(t.params.token);a=JSON.parse(a),a.email&&a.token&&(e.prepopulatedEmail=a.email,e.token=a.token,n(function(){e.signUp.email=e.prepopulatedEmail},100))}},e.init(),e.submitSignUp=function(){if(!e.loading){e.loading=!0,u.trackCreateAccountButton("complete sign up","api sign up");var t=e.validateSignUp();t.status?(e.signUpData={firstName:r("scrub_html")(e.signUp.firstName),lastName:r("scrub_html")(e.signUp.lastName),email:e.signUp.email,password:e.signUp.password,company:r("scrub_html")(e.signUp.companyName),jobTitle:"Developer"},e.prepopulatedEmail&&e.token?(e.signUpData.token=e.token,i.submitSignUpWithToken(e.signUpData).then(function(t){e.signUpFinished(t)})):i.submitSignUp(e.signUpData).then(function(t){e.signUpFinished(t)})):(e.loading=!1,e.errors=t.errors,e.setFocus(t.errors[0].inputId))}},e.signUpFinished=function(a){e.loading=!1,a.status==l.success?(e.actionBtnText="Success!",n(function(){e.signUpData.token?s.signIn(e.signUp.email,e.signUp.password,!0).then(function(a){e.loading=!1,a.id?t.go("account"):t.go("sign-in")}):t.go("sign-up-success",{signUpUser:!0})},1e3)):(a.type==l.errorResponse?e.errors=[{msg:a.text||a.developerText,inputId:"first-name"}]:e.errors=[{msg:"An error occurred.",inputId:"first-name"}],e.setFocus("first-name"))},e.validateSignUp=function(){var t=[],a=e.signUp.firstName?e.signUp.firstName.trim():"",n=e.signUp.lastName?e.signUp.lastName.trim():"",r=e.signUp.email,o=e.signUp.password?e.signUp.password.trim():"",i=e.signUp.verfiypassword?e.signUp.verfiypassword.trim():"",s=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,l=/^(?=.*\d)(?=.*[a-z])[0-9a-zA-Z-_.\/\@$*&!#]{8,32}$/;return e.firstNameClass="",e.lastNameClass="",e.emailClass="",e.passwordClass="",e.passwordVerifyClass="",a.length||(t.push({msg:"First name required.",inputId:"first-name"}),e.firstNameClass="error"),n.length||(t.push({msg:"Last name required.",inputId:"last-name"}),e.lastNameClass="error"),s.test(r)||(t.push({msg:"Email address is invalid.",inputId:"email"}),e.emailClass="error"),o.length?o!==i?(t.push({msg:"Verify Password does not match.",inputId:"passwordVerify"}),e.passwordClass="error",e.passwordVerifyClass="error"):a.length&&o.toLowerCase().indexOf(a.toLowerCase())>=0||n.length&&o.toLowerCase().indexOf(n.toLowerCase())>=0?(t.push({msg:"Password can not contain your first or last name.",inputId:"password"}),e.passwordClass="error",e.passwordVerifyClass="error"):(!l.test(o)||o.toLowerCase().indexOf("qwerty")>=0||o.toLowerCase().indexOf("password")>=0)&&(t.push({msg:'Password cannot contain "qwerty" or "password".',inputId:"password"}),e.passwordClass="error",e.passwordVerifyClass="error"):(t.push({
	msg:"Password required.",inputId:"password"}),e.passwordClass="error"),{status:!t.length,errors:t}},e.setFocus=function(e){c.setFocusById(e)},e.closedBetaSubmit=function(t){e.closeBetaEmail.email||(e.errors=[{msg:"Email is required",inputId:"inputEmail"}],e.emailClass="error",t.preventDefault())}}]),angular.module("portal-signin-signup").controller("SignUpSuccessController",["$scope","$state","$window","SiteCatalystService",function(e,t,a,n){a.google_trackConversion({google_conversion_id:930759455,google_custom_params:{},google_conversion_language:"en",google_conversion_format:"3",google_conversion_color:"ffffff",google_conversion_label:"jMsACPKL5GgQn4bpuwM",google_remarketing_only:!1}),twttr.conversion.trackPid("nulcs",{tw_sale_amount:0,tw_order_quantity:0}),e.breadcrumbs=[{state:"home",stateParams:{},name:"Home"},{state:"sign-up",stateParams:{},name:"Sign Up"},{state:"sign-up-success",stateParams:{},name:"Sign Up Success"}]}]),angular.module("portal-signin-signup").controller("SignUpVerifyController",["$scope","$state","$timeout","SignUpService","UserService","StatusCodesService","SiteCatalystService","Base64UtilityService","$location",function(e,t,a,n,r,o,i,s){e.verifying=!0,e.verifyingSuccess=!1,e.loading=!1,e.completeSignUp={},e.completeSignUp.password=null,e.errors=[],i.trackPage("password confirmation"),e.init=function(){var a=s.decode64(t.params.token);if(a=JSON.parse(a),e.email=a.email,e.token=a.token,e.token&&e.email){var r={email:e.email,token:e.token};n.verifySignUpToken(r).then(function(t){e.verifying=!1,t.status===o.success?e.verifyingSuccess=!0:t.type==o.errorResponse?e.errors=[{msg:t.text}]:e.errors=[{msg:"An error occurred."}]})}else t.go("sign-up")},e.submitSignIn=function(){e.loading=!0,e.errors=[];var a=e.completeSignUp.password?e.completeSignUp.password.trim():"";a.length?r.signIn(e.email,e.completeSignUp.password,!0).then(function(a){e.loading=!1,a.id?t.go("account"):a.type==o.errorResponse?e.errors=[{msg:a.developerText}]:e.errors=[{msg:"An error occurred."}]}):(e.errors=[{msg:"Please enter your password."}],e.loading=!1)},e.init()}]),angular.module("portal-support").controller("SupportController",["$scope","$state","SupportService","UserService","$http","$location","SiteCatalystService",function(e,t,a,n,r,o,i){i.trackPage("support"),e.breadcrumbs=[{state:"home",stateParams:{},name:"Home"},{state:"support",stateParams:{},name:"Support"}],e.replaceZendeskLinks=function(e){for(var t,a=/(href=[",'][^\'\"]+[",'])/gi,n=e;null!==(t=a.exec(n));)if(t.index===a.lastIndex&&a.lastIndex++,t[0].indexOf("developer-support.capitalone.com")!==-1){var r=t[0].replace("href","zendesklink");e=e.replace(t[0],r)}return e},a.getSupportContent().then(function(a){a.article?(e.hero=a.article.support["default"][0],e.content=a.article.support.infoLight[0],e.content.body=e.replaceZendeskLinks(e.content.body),e.subcontent=a.article.support.infoDark[0],e.subcontent=e.replaceZendeskLinks(e.subcontent)):t.go("error",{type:"content-error"})},function(){t.go("error",{type:"content-error"})})}]),angular.module("portal-core").controller("IdleModalController",["$scope","$state","$cookies","close",function(e,t,a,n){e.init=function(){var t=parseInt(a.get("IdleTimeout"))/60;t<1?e.idleTimeout=a.get("IdleTimeout")+" seconds":e.idleTimeout=t+" minutes",e.$on("IdleWarn",function(t,a){e.countdown=a,e.$apply()}),e.$on("IdleTimeout",function(){e.close()}),e.$on("IdleEnd",function(){e.close()})},e.cancel=e.close=function(e){n(200)},e.init()}]);